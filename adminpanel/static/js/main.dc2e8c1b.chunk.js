(this["webpackJsonptrailer-admin-ui"]=this["webpackJsonptrailer-admin-ui"]||[]).push([[0],{21:function(e,t,a){},364:function(e,t,a){e.exports=a(470)},469:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(22),i=(a(37),a(89)),l=Object(i.a)();function c(){var e=JSON.parse(localStorage.getItem("token"));return e?{Authorization:e}:{}}var s=a(509),d=a(355),m=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return o.a.createElement(s.b,Object.assign({},a,{render:function(e){var a=localStorage.getItem("expiry"),n=localStorage.getItem("user"),r=localStorage.getItem("token"),i=n&&"undefined"!==n&&r&&"undefined"!==r;return console.log("isValidUser",i,"user",n,"token",r),i&&a&&a>(new Date).getTime()?o.a.createElement(t,e):(localStorage.removeItem("expiry"),localStorage.removeItem("user"),localStorage.removeItem("token"),console.log("props.location",e.location),"/adminpanel/"!==e.location?o.a.createElement(s.a,{to:{pathname:"/adminpanel/signin",state:{from:e.location}}}):void 0)}}))},u=a(502),p=a(6),f=a(185),b=a(182),g=a(310),h=a(493),y=a(311),v=a(87),E=a(237),O=a(312),j=a(309),C=a(7),S=(a(308),a(21),Object(j.a)((function(e){return{appBar:{background:"#000000"},root:{display:"flex"},title:{margin:"10px 30px 10px 10px"},headerLink:{margin:e.spacing(2),color:"#FFFFFF"},navButton:{paddingLeft:"10px",paddingRight:"10px"},navButtonGroupRight:{position:"absolute",right:"10px"}}}))),I=Object(C.a)({paper:{border:"1px solid #000000",backgroundColor:"#000000",borderRadius:0}})((function(e){return o.a.createElement(b.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),w=Object(C.a)((function(e){return Object(f.a)({root:{backgroundColor:e.palette.common.black,color:e.palette.common.white,"&:focus":{backgroundColor:e.palette.common.black,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}},"root",{backgroundColor:e.palette.common.black,color:e.palette.common.white,"&:hover":{backgroundColor:e.palette.common.white,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.black}}})}))(g.a);var T=function(){var e=S(),t=Object(s.e)(),a=!0,r=localStorage.getItem("expiry");(!r||r<=(new Date).getTime())&&(a=!1);var i=o.a.useState(null),l=Object(p.a)(i,2),c=l[0],d=l[1],m=function(e){console.log("event.currentTarget",e.currentTarget,e.currentTarget.attributes),d(e.currentTarget)},u=function(){d(null)};function f(e){return null!==c&&c.attributes.getNamedItem("aria-controls").value===e}return o.a.createElement("div",{className:e.root},o.a.createElement(h.a,{position:"static",className:e.appBar},o.a.createElement(y.a,{variant:"dense"},o.a.createElement(v.a,{variant:"h6",className:e.title},"Trailer 2 You"),a&&o.a.createElement("div",null,[{id:"customer-menu",name:"Customer",submenu:[{name:"Customer List",link:"/adminpanel/customers"}]},{id:"licensee-menu",name:"Licensee",submenu:[{name:"Licensee List",link:"/adminpanel/licensees"},{name:"Trailer Insurance List",link:"/adminpanel/licensee/insurance"},{name:"Trailer Servicing List",link:"/adminpanel/licensee/servicing"}]},{id:"payments-menu",name:"Payments",submenu:[{name:"Inward Payments",link:"/adminpanel/payments/inward"},{name:"Outward Payments",link:"/adminpanel/payments/outward"}]},{id:"financial-menu",name:"Financials",submenu:[{name:"Financials per Licensee",link:"/adminpanel/financial/licensee"},{name:"Financials per Rental Item",link:"/adminpanel/financial/renteditem"}]},{id:"rentals-menu",name:"Rentals",submenu:[{name:"Rentals List",link:"/adminpanel/rentals"}]},{id:"rental-item-menu",name:"Rental Item",submenu:[{name:"Rental Item Types",link:"/adminpanel/rentalitemtypes"},{name:"Trailer Types",link:"/adminpanel/trailertypes"},{name:"Upsell Items Types",link:"/adminpanel/upsellItemtypes"}]},{id:"employee-menu",name:"Admin Employee",submenu:[{name:"Invite Employee",link:"/adminpanel/employee/invite"},{name:"Employee List",link:"/adminpanel/employee/list"}]}].map((function(a){return o.a.createElement(n.Fragment,{key:a.name},o.a.createElement(E.a,{className:e.navButton,"aria-controls":a.id,"aria-haspopup":"true",variant:"contained",color:"primary",onClick:m},a.name),o.a.createElement(I,{id:a.id,anchorEl:c,keepMounted:!0,open:f(a.id),onClose:u},a.submenu.map((function(e){return o.a.createElement(w,{key:e.name,onClick:function(a){t.push("".concat(e.link)),u()}},o.a.createElement(O.a,{primary:e.name}))}))))}))),a&&o.a.createElement("div",{className:e.navButtonGroupRight},[{id:"profile-menu",name:"Profile",submenu:[{name:"Edit Profile",link:"/adminpanel/employee/edit"},{name:"Logout",link:"/adminpanel/logout"}]}].map((function(a){return o.a.createElement(n.Fragment,{key:a.name},o.a.createElement(E.a,{className:e.navButton,"aria-controls":a.id,"aria-haspopup":"true",variant:"contained",color:"primary",onClick:m},a.name),o.a.createElement(I,{id:a.id,anchorEl:c,keepMounted:!0,open:f(a.id),onClose:u},a.submenu.map((function(e){return o.a.createElement(w,{key:e.name,onClick:function(a){t.push("".concat(e.link)),u()}},o.a.createElement(O.a,{primary:e.name}))}))))}))))))},k=Object(j.a)((function(e){return{menuButton:{},footer:{position:"fixed",left:"0",bottom:"0",width:"100%"},footerText:{color:"#FFFFFF"},footerLink:{margin:e.spacing(2),color:"#FFFFFF"}}}));var N=function(){var e=k();return o.a.createElement("footer",{className:e.footer},o.a.createElement(h.a,{position:"static"},o.a.createElement(v.a,{variant:"body2",align:"center",className:e.footerText},"Copyright \xa9 ",o.a.createElement("a",{color:"inherit",href:"https://trailer2you.com/",className:e.footerText},"Trailer2You")," ",(new Date).getFullYear())))};var x=function(){return o.a.createElement("div",{className:"Home"},"Home")},L=a(14),D=a(2),A=a(25),R=a.n(A),P=a(494),F=a(505),W=a(495),q=a(504),_=a(332),V=a(496),M={country:"India",states:["New South Wales","Victoria","Tasmania","Queensland","South Australia","Western Australia"],businessType:["individual","company"],days:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],hours:"1000-1900",hoursStart:"10:00",hoursEnd:"19:00",mcc:"7513",productDescription:"Trailer Rental",licenseeEmployeeType:["employee","owner","representative","director","executive"],apiUrl:"http://trailer2you.herokuapp.com"},H=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),U=M.apiUrl,Y="".concat(U,"/admin/customers"),B="".concat(U,"/admin/customer/verify/driverLicense"),J="".concat(U,"/admin/customer/otp/resend"),z="".concat(U,"/admin/customer/otp/verify"),Q="".concat(U,"/admin/customer/email/verify/resend"),G="".concat(U,"/admin/customer/password/forgot");"".concat(U,"/admin/customer/password/reset");function K(e){return console.log("TableActionButton",e),o.a.createElement("span",null,e.title)}function Z(e){var t=H(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.CUSTOMERS.includes("VIEW")||r.replace(l);var d=o.a.useState([]),m=Object(p.a)(d,2),u=(m[0],m[1]),f=o.a.useState(0),b=Object(p.a)(f,2),g=(b[0],b[1]),h={customerId:"",mobile:"",country:M.country},y=Object(n.useState)(!1),v=Object(p.a)(y,2),O=v[0],j=v[1],C=Object(n.useState)(""),S=Object(p.a)(C,2),I=S[0],w=S[1],T=Object(n.useState)(""),k=Object(p.a)(T,2),N=k[0],x=k[1],A=Object(n.useState)(h),U=Object(p.a)(A,2),Z=U[0],$=U[1];function X(){j(!1)}var ee=o.a.createRef();return o.a.createElement("div",{className:"t2y-list t2y-customerlist ".concat(t.root)},o.a.createElement(P.a,{open:O,onClose:X,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(F.a,{id:"form-dialog-title"},"OTP Verification"),o.a.createElement(W.a,null,o.a.createElement(q.a,null,"Please Enter OTP"),""!==N&&o.a.createElement(q.a,null,N),o.a.createElement(_.a,{autoFocus:!0,fullWidth:!0,margin:"dense",id:"name",label:"OTP",type:"otp",value:I,onChange:function(e){w(e.target.value)}})),o.a.createElement(V.a,null,o.a.createElement(E.a,{onClick:X,color:"primary"},"Cancel"),o.a.createElement(E.a,{onClick:function(){var e={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({customerId:Z.customerId,mobile:Z.mobile,country:Z.country,otp:I})};console.log("requestOptions",e),fetch(z,e).then((function(e){return e.json()})).then((function(e){console.log("".concat(z," Response"),e),ee.current&&ee.current.onQueryChange(),x("OTP Verified Successfully"),$(h),setTimeout((function(){X()}),5e3)})).catch((function(e){console.log("".concat(z," Error"),e)}))},color:"primary"},"Verify"))),o.a.createElement(R.a,{title:"Customers",tableRef:ee,columns:[{title:"ID",field:"userRef",render:function(e){return e.userRef}},{title:"Name",field:"name",render:function(e){return e.name}},{title:"Email",field:"email",render:function(e){return e.email}},{title:"Email Verified",field:"isEmailVerified",render:function(e){return e.isEmailVerified?"Yes":"No"}},{title:"Mobile",field:"mobile",render:function(e){return e.mobile}},{title:"Mobile Verified",field:"isMobileVerified",render:function(e){return e.isMobileVerified?"Yes":"No"}},{title:"Photo",field:"photo",render:function(e){return e.photo?o.a.createElement("div",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.photo},"Download")):o.a.createElement("div",null,"Not Available")}},{title:"Driver License",field:"driverLicense",render:function(e){return o.a.createElement("div",null,e.driverLicense?o.a.createElement("div",null,e.driverLicense.card?o.a.createElement("div",null,o.a.createElement("b",null,"Card")," : ",e.driverLicense.card):o.a.createElement("div",null,o.a.createElement("b",null,"Card")," : Not Available"),e.driverLicense.expiry?o.a.createElement("div",null,o.a.createElement("b",null,"Expiry")," : ",e.driverLicense.expiry):o.a.createElement("div",null,o.a.createElement("b",null,"Expiry")," : Not Available"),e.driverLicense.state?o.a.createElement("div",null,o.a.createElement("b",null,"State")," : ",e.driverLicense.state):o.a.createElement("div",null,o.a.createElement("b",null,"State")," : Not Available"),e.driverLicense.scan?o.a.createElement("div",null,o.a.createElement("b",null,"Scan")," :",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.driverLicense.scan},"Download")):o.a.createElement("div",null,o.a.createElement("b",null,"Scan")," : Not Available")):o.a.createElement("div",null,"Data Not available"))}},{title:"License Verified",field:"driverLicenseVerified",type:"boolean",render:function(e){return e.driverLicense.verified?"Yes":"No"}},{title:"License Accepted",field:"driverLicenseAccepted",render:function(e){return e.driverLicense.accepted?"Yes":"No"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(Y,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(Y," Response"),t);var n=t.customerList||[],o=t.totalCount?t.totalCount:0,r=[];u((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),g(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("getCustomer Error",e),o(e)}))}))},actions:[function(e){return{icon:function(){return o.a.createElement(K,{title:"Approve Driver License"})},tooltip:"Approve Driver License",disabled:!e.driverLicense.scan,onClick:function(e,t){console.log("Approve onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({customerId:t._id,isAccepted:!0})};console.log("requestOptions",a),fetch(B,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(B," Response"),e),ee.current&&ee.current.onQueryChange()})).catch((function(e){console.log("".concat(B," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(K,{title:"Reject Driver License"})},tooltip:"Reject Driver License",disabled:!e.driverLicense.scan,onClick:function(e,t){console.log("Reject onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({customerId:t._id,isAccepted:!1})};console.log("requestOptions",a),fetch(B,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(B," Response"),e),ee.current&&ee.current.onQueryChange()})).catch((function(e){console.log("".concat(B," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(K,{title:"Resend OTP"})},tooltip:"Resend OTP",onClick:function(e,t){console.log("Resend OTP onClick",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({customerId:t._id,mobile:t.mobile,country:t.address.country||M.country})};console.log("requestOptions",a),fetch(J,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(J," Response"),e),ee.current&&ee.current.onQueryChange(),$({customerId:t._id,mobile:t.mobile,country:t.address.country||M.country}),j(!0)})).catch((function(e){console.log("".concat(J," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(K,{title:"Verify Email"})},tooltip:"Verify Email",onClick:function(e,t){console.log("Verify Email",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({customerId:t._id,email:t.email})};console.log("requestOptions",a),fetch(Q,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Q," Response"),e),ee.current&&ee.current.onQueryChange()})).catch((function(e){console.log("".concat(Q," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(K,{title:"Send Reset Password Link"})},tooltip:"Send Reset Password Link",onClick:function(e,t){console.log("Resend OTP onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({customerId:t._id,email:t.email,platform:"web"})};console.log("requestOptions",a),fetch(G,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(G," Response"),e),ee.current&&ee.current.onQueryChange()})).catch((function(e){console.log("".concat(G," Error"),e)}))}}},{icon:"create",tooltip:"Edit Customer",onClick:function(e,t){console.log("Edit onClick",e,t),r.push("/adminpanel/customer/edit/".concat(t._id))}},{icon:"add_circle",tooltip:"Add Customer",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),r.push("/adminpanel/customer/add")}}],options:{actionsColumnIndex:-1}}))}var $=a(20),X=a.n($),ee=a(29),te=a(27),ae=a.n(te),ne=a(503),oe=a(235),re=a(239),ie=a(240),le=a(245),ce=a(481),se=a(506),de=a(336),me=a(342),ue=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}})),pe=M.apiUrl,fe="".concat(pe,"/admin/customer"),be="".concat(pe,"/admin/customer"),ge="".concat(pe,"/admin/customer");function he(e){console.log("CustomerEdit",e);var t=ue(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().customerId;console.log("customerId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;l||a.acl.CUSTOMERS.includes("ADD")||r.replace(d),l&&!a.acl.CUSTOMERS.includes("UPDATE")&&r.replace(d);var m={name:"",address:{text:"",pincode:"",coordinates:"",country:M.country},dob:ae()().subtract(18,"years").format("YYYY-MM-DD"),driverLicense:{card:"",expiry:ae()().add(1,"year").format("YYYY-MM"),state:M.states[0],scanLink:""},email:"",isEmailVerified:!1,mobile:"",isMobileVerified:!1,photoLink:"",photo:null,driverLicenseScan:null},f=Object(n.useState)(0),b=Object(p.a)(f,2),h=b[0],y=(b[1],Object(n.useState)(m)),O=Object(p.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)(""),I=Object(p.a)(S,2),w=I[0],T=I[1],k=Object(n.useState)(""),N=Object(p.a)(k,2),x=N[0],L=N[1];Object(n.useEffect)((function(){if(l){var e={method:"GET",headers:c()};fetch("".concat(fe,"?id=").concat(l),e).then((function(e){return e.json()})).then((function(e){console.log("Customer API Call Response",e.customerObj);var t=e.customerObj;C({name:t.name,address:{text:t.address.text,pincode:t.address.pincode,coordinates:t.address.coordinates.join(",")},dob:t.dob,driverLicense:{card:t.driverLicense.card,expiry:t.driverLicense.expiry,state:t.driverLicense.state,scanLink:t.driverLicense.scan},email:t.email,isEmailVerified:t.isEmailVerified,mobile:t.mobile,isMobileVerified:t.isMobileVerified,photoLink:t.photo,photo:null,driverLicenseScan:null})})).catch((function(e){console.log("Error occurred while fetching Customer data",e)}))}}),[h]);var A=Object(n.useState)({name:"",address:{text:"",pincode:"",coordinates:""},dob:"",driverLicense:{card:"",expiry:"",state:"",scan:""},email:"",mobile:"",photo:""}),R=Object(p.a)(A,2),P=R[0];R[1];function F(){return(F=Object(ee.a)(X.a.mark((function e(t){var a,n,o,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!==P.name||""!==P.address.text||""!==P.address.pincode||""!==P.address.coordinates||""!==P.dob||""!==P.driverLicense.card||""!==P.driverLicense.expiry||""!==P.driverLicense.state||""!==P.driverLicense.scan||""!==P.email||""!==P.mobile||""!==P.photo)){e.next=4;break}return e.abrupt("return",!1);case 4:a={method:l?"PUT":"POST"},console.log("customer.driverLicense.expiry",j.driverLicense.expiry),j.dob=ae()(j.dob).format("YYYY-MM-DD"),j.driverLicense.expiry=ae()(j.driverLicense.expiry,"YYYY-MM").format("MM/YY"),console.log("customer.driverLicense.expiry",j.driverLicense.expiry),j.photo||j.driverLicenseScan?((n=new FormData).append("name",j.name),n.append("address",JSON.stringify(j.address)),n.append("dob",j.dob),n.append("driverLicense",JSON.stringify(j.driverLicense)),n.append("email",j.email),n.append("mobile",j.mobile),j.photo&&n.append("photo",j.photo,j.photo.name),j.driverLicenseScan&&n.append("driverLicenseScan",j.driverLicenseScan,j.driverLicenseScan.name),l&&(n.append("_id",l),n.append("customerId",l)),a.headers=Object(D.a)({},c()),a.body=n):(o={name:j.name,address:j.address,dob:j.dob,driverLicense:j.driverLicense,email:j.email,mobile:j.mobile},l&&(o._id=l,o.customerId=l),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(o)),console.log("requestOptions",a),r=l?ge:be,fetch(r,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(r," Response"),e);var t=e.customerObj;C({name:t.name,address:{text:t.address.text,pincode:t.address.pincode,coordinates:t.address.coordinates.join(",")},dob:t.dob,driverLicense:{card:t.driverLicense.card,expiry:t.driverLicense.expiry,state:t.driverLicense.state,scanLink:t.driverLicense.scan},email:t.email,isEmailVerified:t.isEmailVerified,mobile:t.mobile,isMobileVerified:t.isMobileVerified,photoLink:t.photo,photo:null,driverLicenseScan:null}),L(""),T("Successfully saved Customer data"),setTimeout((function(){T("")}),5e3)})).catch((function(e){console.log("".concat(r," Error"),e),L("Error occurred while saving Customer data")}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},l?"Edit Customer":"Add Customer"),""!==w&&o.a.createElement(v.a,{component:"h6",variant:"h5"},w),""!==x&&o.a.createElement(v.a,{component:"h6",variant:"h5"},x),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:""!==P.name,helperText:P.name,value:j.name,onChange:function(e){C(Object(D.a)({},j,{name:e.target.value}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Address"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address_text",label:"Address Line",name:"address_text",autoComplete:"address_text",autoFocus:!0,error:""!==P.address.text,helperText:P.address.text,value:j.address.text,onChange:function(e){C(Object(D.a)({},j,{address:Object(D.a)({},j.address,{text:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address_pincode",label:"Pincode",name:"address_pincode",autoComplete:"address_pincode",autoFocus:!0,error:""!==P.address.pincode,helperText:P.address.pincode,value:j.address.pincode,onChange:function(e){C(Object(D.a)({},j,{address:Object(D.a)({},j.address,{pincode:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address_coordinates",label:"Coordinates (Latitude,Longitude format)",name:"address_coordinates",autoComplete:"address_coordinates",autoFocus:!0,error:""!==P.address.coordinates,helperText:P.address.coordinates,value:j.address.coordinates,onChange:function(e){C(Object(D.a)({},j,{address:Object(D.a)({},j.address,{coordinates:e.target.value})}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"dob",required:!0,fullWidth:!0,type:"date",id:"dob",label:"dob",name:"dob",autoComplete:"dob",autoFocus:!0,error:""!==P.dob,helperText:P.dob,value:j.dob,onChange:function(e){C(Object(D.a)({},j,{dob:e.target.value}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Driver License"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"driverLicense_card",label:"Driver License Number",name:"driverLicense_card",autoComplete:"driverLicense_card",autoFocus:!0,error:""!==P.driverLicense.card,helperText:P.driverLicense.card,value:j.driverLicense.card,onChange:function(e){C(Object(D.a)({},j,{driverLicense:Object(D.a)({},j.driverLicense,{card:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"month",id:"driverLicense_expiry",label:"Expiry Date",name:"driverLicense_expiry",autoComplete:"driverLicense_expiry",autoFocus:!0,error:""!==P.driverLicense.expiry,helperText:P.driverLicense.expiry,value:j.driverLicense.expiry,onChange:function(e){C(Object(D.a)({},j,{driverLicense:Object(D.a)({},j.driverLicense,{expiry:e.target.value})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"state-label"},"State"),o.a.createElement(le.a,{labelId:"state-label",id:"stateSelect",value:j.driverLicense.state,onChange:function(e){C(Object(D.a)({},j,{driverLicense:Object(D.a)({},j.driverLicense,{state:e.target.value})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"state-".concat(t),value:e},e)}))),o.a.createElement(ce.a,null,"Required")),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Scan ( Scan of Front and Back side of Driver License in a single File )"),j.driverLicense.scanLink&&!j.driverLicenseScan&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:j.driverLicense.scanLink},"Scan")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"raised-button-file",multiple:!0,type:"file",name:"scan",onChange:function(e){console.log("scan",e.target.files),C(Object(D.a)({},j,{driverLicenseScan:e.target.files[0]}))}}))),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,error:""!==P.email,helperText:P.email,value:j.email,onChange:function(e){C(Object(D.a)({},j,{email:e.target.value}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:j.isEmailVerified,name:"isEmailVerified",onChange:function(e){console.log("onChange isEmailVerified",e),C(Object(D.a)({},j,{isEmailVerified:!j.isEmailVerified}))}}),label:"Is Email Verified?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"mobile",label:"Mobile",name:"mobile",autoComplete:"mobile",autoFocus:!0,error:""!==P.mobile,helperText:P.mobile,value:j.mobile,onChange:function(e){C(Object(D.a)({},j,{mobile:e.target.value}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:j.isMobileVerified,name:"isMobileVerified",onChange:function(e){console.log("onChange isMobileVerified",e),C(Object(D.a)({},j,{isMobileVerified:!j.isMobileVerified}))}}),label:"Is Mobile Verified?"})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photo"),j.photoLink&&!j.photo&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:j.photoLink},"Photo")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"raised-button-file",multiple:!0,type:"file",name:"photo",onChange:function(e){console.log("photo",e.target.files),C(Object(D.a)({},j,{photo:e.target.files[0]}))}})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return F.apply(this,arguments)}},l?"Update":"Save"))))}var ye=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ve=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),Ee=M.apiUrl,Oe="".concat(Ee,"/admin/customer/password/reset");function je(e){console.log("CustomerResetPassword",e);var t=ye(),a=new URLSearchParams(Object(s.f)().search).get("token");console.log("Params",a);var r=Object(n.useState)(""),i=Object(p.a)(r,2),l=i[0],d=i[1],m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],g=f[1],h=Object(n.useState)(!1),y=Object(p.a)(h,2),O=(y[0],y[1],Object(n.useState)("")),j=Object(p.a)(O,2),C=j[0],S=j[1],I=Object(n.useState)(""),w=Object(p.a)(I,2),T=w[0],k=w[1],N=Object(n.useState)({password:!1,repassword:!1}),x=Object(p.a)(N,2),L=x[0],A=x[1],R=Object(n.useState)({password:"",repassword:""}),P=Object(p.a)(R,2),F=P[0],W=P[1];function q(e,t){var a="Password should be 8 or more characters long. Password should contain one Uppercase Alphabetical Character, one Lowercase Alphabetical Character, one Numeric Character and one Special Character.",n=e===t,o=ve.test(e),r=ve.test(t);console.log("doPasswordsMatch",n,"isPasswordsValid",o,"isRePasswordValid",r);var i="";n||(i+="".concat("Passwords don't match"," ")),o||(i+="".concat(a," "));var l=Object(D.a)({},L),c=Object(D.a)({},F);n&&o?(l=Object(D.a)({},l,{password:!1}),A(l),c=Object(D.a)({},c,{password:""}),W(c)):(l=Object(D.a)({},l,{password:!0}),A(l),c=Object(D.a)({},c,{password:i}),W(c));var s="";n||(s+="".concat("Passwords don't match"," ")),r||(s+="".concat(a," ")),n&&o?(l=Object(D.a)({},l,{repassword:!1}),A(l),c=Object(D.a)({},c,{repassword:""}),W(c)):(l=Object(D.a)({},l,{repassword:!0}),A(l),c=Object(D.a)({},c,{repassword:s}),W(c))}function V(){return(V=Object(ee.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!L.password){e.next=4;break}return e.abrupt("return",!1);case 4:n={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({token:a,password:l})},console.log("requestOptions",n),fetch(Oe,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(Oe," Response"),e),k(""),S("Successfully saved Password"),d(""),g(""),setTimeout((function(){S("")}),5e3)})).catch((function(e){console.log("".concat(Oe," Error"),e),k("Error occurred while saving Password")}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Reset Password"),""!==C&&o.a.createElement(v.a,{component:"h6",variant:"h5"},C),""!==T&&o.a.createElement(v.a,{component:"h6",variant:"h5"},T),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l,error:L.password,helperText:F.password,onChange:function(e){d(e.target.value),q(e.target.value,b)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repassword",label:"Confirm Password",type:"password",id:"repassword",autoComplete:"confirm-password",error:L.repassword,helperText:F.repassword,value:b,onChange:function(e){g(e.target.value),q(l,e.target.value)}}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return V.apply(this,arguments)}},"Save Password"))))}var Ce=M.apiUrl,Se="".concat(Ce,"/admin/employee/signin"),Ie=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function we(){var e=Ie(),t=Object(s.e)();console.log("history",t);var a=Object(n.useState)(""),r=Object(p.a)(a,2),i=r[0],l=r[1],c=Object(n.useState)(""),d=Object(p.a)(c,2),m=d[0],f=d[1],b=Object(n.useState)(!1),g=Object(p.a)(b,2),h=(g[0],g[1],Object(n.useState)("")),y=Object(p.a)(h,2),O=y[0],j=y[1],C=Object(n.useState)(""),S=Object(p.a)(C,2),I=S[0],w=S[1];return o.a.createElement(u.a,{component:"main",maxWidth:"xs"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign In"),""!==O&&o.a.createElement(v.a,{component:"h6",variant:"h5"},O),""!==I&&o.a.createElement(v.a,{component:"h6",variant:"h5"},I),o.a.createElement("form",{className:e.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){l(e.target.value)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:m,onChange:function(e){f(e.target.value)}}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:m})};fetch(Se,a).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.employeeObj)),localStorage.setItem("token",JSON.stringify(e.token)),localStorage.setItem("expiry",(new Date).getTime()+288e5),localStorage.setItem("aclSettingsAdmin",JSON.stringify(e.aclSettingsAdmin)),localStorage.setItem("aclSettingsLicensee",JSON.stringify(e.aclSettingsLicensee)),w(""),j("Successfully Signed in"),t.push("/adminpanel/")})).catch((function(e){console.log("SignIn Error",e),w("Invalid Credentials"),j("")}))}},"Sign In"))))}var Te=M.apiUrl,ke="".concat(Te,"/admin/employee/invite"),Ne=Object(j.a)((function(e){return{root:{width:"100%"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function xe(e){var t=Ne(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=localStorage.setItem("aclSettingsAdmin");r=JSON.parse(r);var i=Object(s.f)();console.log("location",i);var l=Object(s.e)();console.log("history",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.ADMINEMPLOYEE.includes("ADD")||l.replace(d);localStorage.getItem("token");var m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],g=f[1],h=Object(n.useState)({}),y=Object(p.a)(h,2),O=y[0],j=y[1],C=Object(n.useState)({}),S=Object(p.a)(C,2),I=S[0],w=S[1],T=Object(n.useState)(!1),k=Object(p.a)(T,2),N=(k[0],k[1],Object(n.useState)("")),x=Object(p.a)(N,2),A=x[0],R=x[1],P=Object(n.useState)(""),F=Object(p.a)(P,2),W=F[0],q=F[1];return console.log("aclSettingsAdmin",r),Object(n.useEffect)((function(){j(Object(D.a)({},r));var e=Object.keys(r),t={};e.forEach((function(e){t[e]=[]})),w(Object(D.a)({},t))}),[]),o.a.createElement(u.a,{component:"main",maxWidth:"xs"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Invite Employee"),""!==A&&o.a.createElement(v.a,{component:"h6",variant:"h5"},A),""!==W&&o.a.createElement(v.a,{component:"h6",variant:"h5"},W),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:b,onChange:function(e){g(e.target.value)}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Employee Privileges"),O&&Object.keys(O).map((function(e){return console.log("aclType",e,I),o.a.createElement(n.Fragment,{key:e},o.a.createElement(v.a,{variant:"subtitle2"},e.toUpperCase()),o.a.createElement(n.Fragment,null,I&&I[e]&&O[e]&&O[e].map((function(t,a){return console.log(e,"setting",t),o.a.createElement(de.a,{key:a,control:o.a.createElement(me.a,{checked:I[e].includes(t),name:t,onChange:function(a){console.log("onChange",a),function(e,t,a){console.log("handleACLChange",t,a),console.log("acList",I[e].length);var n=I[e].includes(t),o=[];if(console.log("isACPPresent",n),a&&!n&&((o=Object(D.a)({},I))[e]=[].concat(Object(L.a)(o[e]),[t]),w(o)),!a&&n){var r=I[e].filter((function(e){return e!==t}));(o=Object(D.a)({},I))[e]=r,w(o)}console.log("newAcl",o[e].length)}(e,t,a.target.checked)}}),label:t})}))))}))),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault();var t={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({email:b,acl:I})};fetch(ke,t).then((function(e){return e.json()})).then((function(e){console.log(e),q(""),R("Successfully invited Employee"),l.push("/adminpanel/")})).catch((function(e){console.log("Employee Invite Error",e),q("Error occured while inviting Employee"),R("")}))}},"Invite Employee"))))}var Le=M.apiUrl,De="".concat(Le,"/admin/employee/invite/accept"),Ae=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Re=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})");function Pe(e){console.log("EmployeeInviteAccept",e);var t=Ae(),a=new URLSearchParams(Object(s.f)().search).get("token");console.log("Params",a);var r=Object(s.e)();console.log("history",r);var i=Object(n.useState)(""),l=Object(p.a)(i,2),d=l[0],m=l[1],f=Object(n.useState)(""),b=Object(p.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)(""),O=Object(p.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)(""),I=Object(p.a)(S,2),w=I[0],T=I[1],k=Object(n.useState)(!1),N=Object(p.a)(k,2),x=(N[0],N[1],Object(n.useState)("")),L=Object(p.a)(x,2),A=L[0],R=L[1],P=Object(n.useState)(""),F=Object(p.a)(P,2),W=F[0],q=F[1],V=Object(n.useState)({mobile:!1,name:!1,password:!1,repassword:!1}),M=Object(p.a)(V,2),H=M[0],U=M[1],Y=Object(n.useState)({mobile:"",name:"",password:"",repassword:""}),B=Object(p.a)(Y,2),J=B[0],z=B[1];function Q(e,t){var a="Password should be 8 or more characters long. Password should contain one Uppercase Alphabetical Character, one Lowercase Alphabetical Character, one Numeric Character and one Special Character.",n=e===t,o=Re.test(e),r=Re.test(t);console.log("doPasswordsMatch",n,"isPasswordsValid",o,"isRePasswordValid",r);var i="";n||(i+="".concat("Passwords don't match"," ")),o||(i+="".concat(a," "));var l=Object(D.a)({},H),c=Object(D.a)({},J);n&&o?(l=Object(D.a)({},l,{password:!1}),U(l),c=Object(D.a)({},c,{password:""}),z(c)):(l=Object(D.a)({},l,{password:!0}),U(l),c=Object(D.a)({},c,{password:i}),z(c));var s="";n||(s+="".concat("Passwords don't match"," ")),r||(s+="".concat(a," ")),n&&o?(l=Object(D.a)({},l,{repassword:!1}),U(l),c=Object(D.a)({},c,{repassword:""}),z(c)):(l=Object(D.a)({},l,{repassword:!0}),U(l),c=Object(D.a)({},c,{repassword:s}),z(c))}function G(){return(G=Object(ee.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(H.mobile||H.name||H.password)){e.next=4;break}return e.abrupt("return",!1);case 4:n={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({token:a,mobile:d,password:g,name:w})},console.log("requestOptions",n),fetch(De,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(De," Response"),e),q(""),R("Successfully saved Employee data"),m(""),T(""),h(""),C(""),setTimeout((function(){R(""),r.push("/adminpanel/")}),5e3)})).catch((function(e){console.log("".concat(De," Error"),e),q("Error occurred while saving Employee data")}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Accept Employee Invite"),""!==A&&o.a.createElement(v.a,{component:"h6",variant:"h5"},A),""!==W&&o.a.createElement(v.a,{component:"h6",variant:"h5"},W),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"mobile",label:"Mobile",name:"mobile",autoComplete:"mobile",autoFocus:!0,error:H.mobile,helperText:J.mobile,value:d,onChange:function(e){m(e.target.value)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:H.name,helperText:J.name,value:w,onChange:function(e){T(e.target.value)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:g,error:H.password,helperText:J.password,onChange:function(e){h(e.target.value),Q(e.target.value,j)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repassword",label:"Confirm Password",type:"password",id:"repassword",autoComplete:"confirm-password",error:H.repassword,helperText:J.repassword,value:j,onChange:function(e){C(e.target.value),Q(g,e.target.value)}}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return G.apply(this,arguments)}},"Accept"))))}var Fe=M.apiUrl,We=("".concat(Fe,"/admin/employee/acl"),"".concat(Fe,"/admin/employee/profile")),qe="".concat(Fe,"/admin/employee/profile"),_e="".concat(Fe,"/admin/employee/profile/admin"),Ve=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})");function Me(e){console.log("EmployeeEdit",e);var t=Ve(),a=localStorage.getItem("token"),r=localStorage.getItem("user");r=JSON.parse(r);var i=localStorage.getItem("aclSettingsAdmin");i=JSON.parse(i),console.log("userData",r),console.log("token",a);var l=Object(s.g)().employeeId;l||(l=r._id),console.log("employeeId",l);var d=Object(s.e)();console.log("history",d);var m=Object(s.f)();console.log("location",m);var f=(m.state||{from:{pathname:"/adminpanel/"}}).from;l&&!r.acl.ADMINEMPLOYEE.includes("UPDATE")&&d.replace(f);var b=Object(n.useState)({}),g=Object(p.a)(b,2),h=g[0],y=g[1],O=qe,j=Object(n.useState)(0),C=Object(p.a)(j,2),S=(C[0],C[1],Object(n.useState)({mobile:"",name:"",password:"",repassword:"",acl:{}})),I=Object(p.a)(S,2),w=I[0],T=I[1],k=Object(n.useState)(""),N=Object(p.a)(k,2),x=N[0],A=N[1],R=Object(n.useState)(""),P=Object(p.a)(R,2),F=P[0],W=P[1];Object(n.useEffect)((function(){r.isOwner&&(console.log("aclSettingsAdmin",i),y(Object(D.a)({},i)));var e={method:"GET",headers:c()};fetch("".concat(We,"?employeeId=").concat(l),e).then((function(e){return e.json()})).then((function(e){console.log("API Response",e);var t=e.employeeObj,a=t.password;console.log("aclSettings",h),console.log("employeeObj.acl",t.acl),T(Object(D.a)({},w,{mobile:t.mobile,name:t.name,password:a,repassword:a,acl:t.acl}))})).catch((function(e){console.log("Error occurred while fetching ACL",e)}))}),[]);var q=Object(n.useState)({mobile:!1,name:!1,password:!1,repassword:!1}),V=Object(p.a)(q,2),M=V[0],H=(V[1],Object(n.useState)({mobile:"",name:"",password:"",repassword:""})),U=Object(p.a)(H,2),Y=U[0];U[1];function B(){return(B=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(M.mobile||M.name||M.password)){e.next=4;break}return e.abrupt("return",!1);case 4:r.isOwner&&(O=_e),a=w.acl,n={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({employeeId:l,mobile:w.mobile,name:w.name,acl:a})},console.log("requestOptions",n),fetch(O,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(O," Response"),e),localStorage.setItem("user",JSON.stringify(e.employeeObj)),W(""),A("Successfully saved Employee data"),setTimeout((function(){A("")}),5e3)})).catch((function(e){console.log("".concat(O," Error"),e),W("Error occurred while saving Employee data")}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Edit Employee"),""!==x&&o.a.createElement(v.a,{component:"h6",variant:"h5"},x),""!==F&&o.a.createElement(v.a,{component:"h6",variant:"h5"},F),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"mobile",label:"Mobile",name:"mobile",autoComplete:"mobile",autoFocus:!0,error:M.mobile,helperText:Y.mobile,value:w.mobile,onChange:function(e){T(Object(D.a)({},w,{mobile:e.target.value})),e.target.value}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:M.name,helperText:Y.name,value:w.name,onChange:function(e){T(Object(D.a)({},w,{name:e.target.value})),e.target.value}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Employee Privileges"),h&&Object.keys(h).map((function(e){return console.log("aclType",e,w.acl),o.a.createElement(n.Fragment,{key:e},o.a.createElement(v.a,{variant:"subtitle2"},e.toUpperCase()),o.a.createElement(n.Fragment,null,w.acl&&w.acl[e]&&h[e]&&h[e].map((function(t,a){return console.log(e,"setting",t),o.a.createElement(de.a,{key:a,control:o.a.createElement(me.a,{checked:w.acl[e].includes(t),name:t,onChange:function(a){console.log("onChange",a),function(e,t,a){console.log("handleACLChange",t,a),console.log("acList",w.acl[e].length);var n=w.acl[e].includes(t),o=[];if(console.log("isACPPresent",n),a&&!n&&((o=Object(D.a)({},w.acl))[e]=[].concat(Object(L.a)(o[e]),[t]),T(Object(D.a)({},w,{acl:o}))),!a&&n){var r=w.acl[e].filter((function(e){return e!==t}));(o=Object(D.a)({},w.acl))[e]=r,T(Object(D.a)({},w,{acl:o}))}console.log("newAcl",o[e].length)}(e,t,a.target.checked)}}),label:t})}))))}))),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return B.apply(this,arguments)}},"Update"))))}var He=M.apiUrl,Ue="".concat(He,"/admin/employees"),Ye="".concat(He,"/admin/employee/generateotp"),Be="".concat(He,"/admin/employee/verifyotp"),Je="".concat(He,"/admin/employee/resendinvite"),ze="".concat(He,"/admin/employee/forgotpassword"),Qe=("".concat(He,"/admin/employee/resetpassword"),Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})));function Ge(e){return console.log("TableActionButton",e),o.a.createElement("span",null,e.title)}var Ke=function(e){console.log("EmployeeList called");var t=Qe(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.TRAILER.includes("VIEW")||r.replace(l);var d=Object(n.useState)([]),m=Object(p.a)(d,2),u=(m[0],m[1]),f=Object(n.useState)(0),b=Object(p.a)(f,2),g=(b[0],b[1]),h=Object(n.useState)(!1),y=Object(p.a)(h,2),v=y[0],O=y[1],j=Object(n.useState)(""),C=Object(p.a)(j,2),S=C[0],I=C[1],w=Object(n.useState)(""),T=Object(p.a)(w,2),k=T[0],N=T[1],x=Object(n.useState)(""),A=Object(p.a)(x,2),H=A[0],U=A[1];function Y(){O(!1)}var B=o.a.createRef();return o.a.createElement("div",{className:"t2y-list t2y-employeelist ".concat(t.root)},o.a.createElement(P.a,{open:v,onClose:Y,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(F.a,{id:"form-dialog-title"},"OTP Verification"),o.a.createElement(W.a,null,o.a.createElement(q.a,null,"Please Enter OTP"),""!==k&&o.a.createElement(q.a,null,k),o.a.createElement(_.a,{autoFocus:!0,fullWidth:!0,margin:"dense",id:"name",label:"OTP",type:"otp",value:S,onChange:function(e){I(e.target.value)}})),o.a.createElement(V.a,null,o.a.createElement(E.a,{onClick:Y,color:"primary"},"Cancel"),o.a.createElement(E.a,{onClick:function(){var e={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({mobile:H,country:M.country,otp:S})};console.log("requestOptions",e),fetch(Be,e).then((function(e){return e.json()})).then((function(e){console.log("".concat(Be," Response"),e),B.current&&B.current.onQueryChange(),N("OTP Verified Successfully"),U(""),setTimeout((function(){Y()}),5e3)})).catch((function(e){console.log("".concat(Be," Error"),e)}))},color:"primary"},"Verify"))),o.a.createElement(R.a,{title:"Employees",tableRef:B,columns:[{title:"ID",field:"adminEmployeeRef",render:function(e){return e.adminEmployeeRef}},{title:"Name",field:"name",render:function(e){return e.name&&e.name?"".concat(e.name):e.name}},{title:"Email",field:"email",render:function(e){return e.email}},{title:"Email Verified",field:"isEmailVerified",render:function(e){return e.isEmailVerified?"Yes":"No"}},{title:"Mobile",field:"mobile",render:function(e){return e.mobile}},{title:"Mobile Verified",field:"isMobileVerified",render:function(e){return e.isMobileVerified?"Yes":"No"}},{title:"Is Owner",field:"isOwner",render:function(e){return e.isOwner?"Yes":"No"}}],data:function(e){console.log("Employee MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(Ue,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(Ue," Response"),t);var n=t.employeeList||[],o=t.totalCount?t.totalCount:0,r=[];u((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),g(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("getEmployees Error",e),o(e)}))}))},actions:[{icon:"create",tooltip:"Edit Employee",onClick:function(e,t){console.log("Edit onClick",e,t),r.push("/adminpanel/employee/edit/".concat(t._id))}},{icon:function(){return o.a.createElement(Ge,{title:"Resend OTP"})},tooltip:"Resend OTP",onClick:function(e,t){console.log("Resend OTP onClick",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({mobile:t.mobile,country:M.country})};console.log("requestOptions",a),fetch(Ye,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Ye," Response"),e),B.current&&B.current.onQueryChange(),U(t.mobile),O(!0)})).catch((function(e){console.log("".concat(Ye," Error"),e)}))}},{icon:function(){return o.a.createElement(Ge,{title:"Verify Email"})},tooltip:"Verify Email",onClick:function(e,t){console.log("Verify Email",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({email:t.email})};console.log("requestOptions",a),fetch(Je,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Je," Response"),e),B.current&&B.current.onQueryChange()})).catch((function(e){console.log("".concat(Je," Error"),e)}))}},{icon:function(){return o.a.createElement(Ge,{title:"Forgot Password"})},tooltip:"Forgot Password",onClick:function(e,t){console.log("Forgot Password",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({email:t.email})};console.log("requestOptions",a),fetch(ze,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(ze," Response"),e),B.current&&B.current.onQueryChange()})).catch((function(e){console.log("".concat(ze," Error"),e)}))}},{icon:function(){return o.a.createElement(Ge,{title:"Resend Invite"})},tooltip:"Resend Invite",onClick:function(e,t){if(t.acceptedInvite)console.log("Resend Invite",t.acceptedInvite);else{console.log("Resend Invite",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({email:t.email})};console.log("requestOptions",a),fetch(Je,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Je," Response"),e),B.current&&B.current.onQueryChange()})).catch((function(e){console.log("".concat(Je," Error"),e)}))}}}],options:{actionsColumnIndex:-1}}))},Ze=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),$e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),Xe=M.apiUrl,et="".concat(Xe,"/admin/employee/resetpassword");function tt(e){console.log("EmployeeInviteAccept",e);var t=Ze(),a=new URLSearchParams(Object(s.f)().search).get("token");console.log("Params",a);var r=Object(n.useState)(""),i=Object(p.a)(r,2),l=i[0],d=i[1],m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],g=f[1],h=Object(n.useState)(!1),y=Object(p.a)(h,2),O=(y[0],y[1],Object(n.useState)("")),j=Object(p.a)(O,2),C=j[0],S=j[1],I=Object(n.useState)(""),w=Object(p.a)(I,2),T=w[0],k=w[1],N=Object(n.useState)({password:!1,repassword:!1}),x=Object(p.a)(N,2),L=x[0],A=x[1],R=Object(n.useState)({password:"",repassword:""}),P=Object(p.a)(R,2),F=P[0],W=P[1];function q(e,t){var a="Password should be 8 or more characters long. Password should contain one Uppercase Alphabetical Character, one Lowercase Alphabetical Character, one Numeric Character and one Special Character.",n=e===t,o=$e.test(e),r=$e.test(t);console.log("doPasswordsMatch",n,"isPasswordsValid",o,"isRePasswordValid",r);var i="";n||(i+="".concat("Passwords don't match"," ")),o||(i+="".concat(a," "));var l=Object(D.a)({},L),c=Object(D.a)({},F);n&&o?(l=Object(D.a)({},l,{password:!1}),A(l),c=Object(D.a)({},c,{password:""}),W(c)):(l=Object(D.a)({},l,{password:!0}),A(l),c=Object(D.a)({},c,{password:i}),W(c));var s="";n||(s+="".concat("Passwords don't match"," ")),r||(s+="".concat(a," ")),n&&o?(l=Object(D.a)({},l,{repassword:!1}),A(l),c=Object(D.a)({},c,{repassword:""}),W(c)):(l=Object(D.a)({},l,{repassword:!0}),A(l),c=Object(D.a)({},c,{repassword:s}),W(c))}function V(){return(V=Object(ee.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!L.password){e.next=4;break}return e.abrupt("return",!1);case 4:n={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({token:a,password:l})},console.log("requestOptions",n),fetch(et,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(et," Response"),e),k(""),S("Successfully saved Password"),d(""),g(""),setTimeout((function(){S("")}),5e3)})).catch((function(e){console.log("".concat(et," Error"),e),k("Error occurred while saving Password")}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Reset Password"),""!==C&&o.a.createElement(v.a,{component:"h6",variant:"h5"},C),""!==T&&o.a.createElement(v.a,{component:"h6",variant:"h5"},T),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l,error:L.password,helperText:F.password,onChange:function(e){d(e.target.value),q(e.target.value,b)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repassword",label:"Confirm Password",type:"password",id:"repassword",autoComplete:"confirm-password",error:L.repassword,helperText:F.repassword,value:b,onChange:function(e){g(e.target.value),q(l,e.target.value)}}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return V.apply(this,arguments)}},"Save Password"))))}var at=M.apiUrl,nt="".concat(at,"/admin/financial/licensee"),ot=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var rt=function(e){var t=ot(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Financials per Licensee",tableRef:d,columns:[{title:"Licensee Name",field:"licenseeName",render:function(e){return e.licenseeName}},{title:"Total Paid",field:"total",render:function(e){return e.total?e.total:0}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(nt,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(nt," Response"),t);var n=t.financialsObj.totalByLicenseeList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(nt," Error"),e),o(e)}))}))}}))},it=M.apiUrl,lt="".concat(it,"/admin/financial/trailer"),ct=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var st=function(e){var t=ct(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Financials per Rental Item",tableRef:d,columns:[{title:"Rented Item",field:"rentedItem",render:function(e){return e.rentedItem}},{title:"Rented Item Name",field:"rentedItemName",render:function(e){return e.rentedItemName}},{title:"Total",field:"total",render:function(e){return e.total?e.total:0}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(lt,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(lt," Response"),t);var n=t.financialsObj.totalByItemList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(lt," Error"),e),o(e)}))}))}}))},dt=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),mt=M.apiUrl,ut="".concat(mt,"/admin/licensees"),pt="".concat(mt,"/admin/licensee/verify/proofOfIncorporation"),ft="".concat(mt,"/admin/licensee/otp/resend"),bt="".concat(mt,"/admin/licensee/otp/verify"),gt="".concat(mt,"/admin/licensee/email/verify/resend");"".concat(mt,"/admin/licensee/employee/password/forgot"),"".concat(mt,"/admin/licensee/employee/password/reset");function ht(e){return console.log("TableActionButton",e),o.a.createElement("span",null,e.title)}function yt(e){var t=dt(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.LICENSEE.includes("VIEW")||r.replace(l);var d=o.a.useState([]),m=Object(p.a)(d,2),u=(m[0],m[1]),f=o.a.useState(0),b=Object(p.a)(f,2),g=(b[0],b[1]),h={licenseeId:"",mobile:"",country:M.country},y=Object(n.useState)(!1),v=Object(p.a)(y,2),O=v[0],j=v[1],C=Object(n.useState)(""),S=Object(p.a)(C,2),I=S[0],w=S[1],T=Object(n.useState)(""),k=Object(p.a)(T,2),N=k[0],x=k[1],A=Object(n.useState)(h),H=Object(p.a)(A,2),U=H[0],Y=H[1];function B(){j(!1)}var J=o.a.createRef();return o.a.createElement("div",{className:"t2y-list t2y-licenseelist ".concat(t.root)},o.a.createElement(P.a,{open:O,onClose:B,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(F.a,{id:"form-dialog-title"},"OTP Verification"),o.a.createElement(W.a,null,o.a.createElement(q.a,null,"Please Enter OTP"),""!==N&&o.a.createElement(q.a,null,N),o.a.createElement(_.a,{autoFocus:!0,fullWidth:!0,margin:"dense",id:"name",label:"OTP",type:"otp",value:I,onChange:function(e){w(e.target.value)}})),o.a.createElement(V.a,null,o.a.createElement(E.a,{onClick:B,color:"primary"},"Cancel"),o.a.createElement(E.a,{onClick:function(){var e={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({licenseeId:U.licenseeId,mobile:U.mobile,country:U.country,otp:I})};console.log("requestOptions",e),fetch(bt,e).then((function(e){return e.json()})).then((function(e){console.log("".concat(bt," Response"),e),J.current&&J.current.onQueryChange(),x("OTP Verified Successfully"),Y(h),setTimeout((function(){B()}),5e3)})).catch((function(e){console.log("".concat(bt," Error"),e)}))},color:"primary"},"Verify"))),o.a.createElement(R.a,{title:"Licensee",tableRef:J,columns:[{title:"ID",field:"licenseeRef",render:function(e){return e.licenseeRef}},{title:"Name",field:"name",render:function(e){return e.name}},{title:"Email",field:"email",render:function(e){return e.email}},{title:"Email Verified",field:"isEmailVerified",render:function(e){return e.isEmailVerified?"Yes":"No"}},{title:"Mobile",field:"mobile",render:function(e){return e.mobile}},{title:"Mobile Verified",field:"isMobileVerified",render:function(e){return e.isMobileVerified?"Yes":"No"}},{title:"Trailers",field:"trailers",render:function(e){return o.a.createElement("div",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/licensee/".concat(e._id,"/trailers")},"View Trailers"))}},{title:"Upsell Items",field:"upsellItems",render:function(e){return o.a.createElement("div",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/licensee/".concat(e._id,"/upsellitems")},"View Upsell Items"))}},{title:"Proof of Incorporation",field:"proofOfIncorporation",render:function(e){return o.a.createElement("div",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.proofOfIncorporation},"Download"))}},{title:"Proof of Incorporation Verified",field:"proofOfIncorporationVerified",type:"boolean",render:function(e){return e.verified?"Yes":"No"}},{title:"Proof of Incorporation Accepted",field:"proofOfIncorporationAccepted",render:function(e){return e.accepted?"Yes":"No"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(ut,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(ut," Response"),t);var n=t.licenseeList||[],o=t.totalCount||0,r=[];u((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),g(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(ut," Error"),e),o(e)}))}))},actions:[function(e){return{icon:function(){return o.a.createElement(ht,{title:"Approve Proof of Incorporation"})},tooltip:"Approve Proof of Incorporation",disabled:!e.proofOfIncorporation,onClick:function(e,t){console.log("Approve onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({licenseeId:t._id,isAccepted:!0})};console.log("requestOptions",a),fetch(pt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(pt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(pt," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(ht,{title:"Reject Proof of Incorporation"})},tooltip:"Reject Proof of Incorporation",disabled:!e.proofOfIncorporation,onClick:function(e,t){console.log("Reject onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({licenseeId:t._id,isAccepted:!1})};console.log("requestOptions",a),fetch(pt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(pt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(pt," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(ht,{title:"Resend OTP"})},tooltip:"Resend OTP",onClick:function(e,t){console.log("Resend OTP onClick",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({licenseeId:t._id,mobile:t.mobile,country:t.address.country||M.country})};console.log("requestOptions",a),fetch(ft,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(ft," Response"),e),J.current&&J.current.onQueryChange(),Y({customerId:t._id,mobile:t.mobile,country:t.address.country||M.country}),j(!0)})).catch((function(e){console.log("".concat(ft," Error"),e)}))}}},function(e){return{icon:function(){return o.a.createElement(ht,{title:"Verify Email"})},tooltip:"Verify Email",onClick:function(e,t){console.log("Verify Email",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({licenseeId:t._id,email:t.email})};console.log("requestOptions",a),fetch(gt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(gt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(gt," Error"),e)}))}}},{icon:"create",tooltip:"Edit Licensee",onClick:function(e,t){console.log("Edit onClick",e,t),r.push("/adminpanel/licensee/edit/".concat(t._id))}},{icon:"add_circle",tooltip:"Add Licensee",isFreeAction:!0,onClick:function(e,t){console.log("Licensee Signup onClick",e,t),r.push("/adminpanel/licensee/signup")}}],options:{actionsColumnIndex:-1}}))}var vt=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}})),Et=M.apiUrl,Ot="".concat(Et,"/admin/licensee");function jt(e){console.log("LicenseeSignup",e);var t=vt(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.LICENSEE.includes("ADD")||r.replace(l);var d={licensee:{name:"",email:"",isEmailVerified:!1,mobile:"",isMobileVerified:!1,country:M.country,businessType:M.businessType[0],address:{text:"",pincode:"",coordinates:"",city:"",state:M.states[0],country:M.country},radius:100,bsbNumber:"",availability:!0,workingDays:M.days,workingHours:M.hours,workingHoursStart:M.hoursStart,workingHoursEnd:M.hoursEnd,stripeAccountId:"",stripeAccountVerified:!1,accountNumber:"",mcc:"",tosAcceptanceDate:"",tosAcceptanceIP:"",taxId:"",logoLink:"",proofOfIncorporationLink:"",logo:null,proofOfIncorporation:null},employee:{name:"",email:"",isEmailVerified:!1,mobile:"",isMobileVerified:!1,country:M.country,dob:ae()().subtract(18,"years").format("YYYY-MM-DD"),address:{text:"",pincode:"",coordinates:"",city:"",state:M.states[0],country:M.country},driverLicense:{card:"",expiry:ae()().add(1,"year").format("YYYY-MM"),state:M.states[0],scanLink:""},photoLink:"",additionalDocumentLink:"",photo:null,driverLicenseScan:null,additionalDocument:null}},m=Object(n.useState)(0),f=Object(p.a)(m,2),b=(f[0],f[1],Object(n.useState)(d)),h=Object(p.a)(b,2),y=h[0],O=h[1],j=Object(n.useState)(""),C=Object(p.a)(j,2),S=C[0],I=C[1],w=Object(n.useState)(""),T=Object(p.a)(w,2),k=T[0],N=T[1],x=Object(n.useState)({licensee:{name:"",email:"",mobile:"",country:"",businessType:"",address:{text:"",pincode:"",coordinates:"",city:"",state:"",country:""},radius:"",bsbNumber:"",availability:"",workingDays:"",workingHoursStart:"",workingHoursEnd:"",stripeAccountId:"",stripeAccountVerified:"",accountNumber:"",mcc:"",tosAcceptanceDate:"",tosAcceptanceIP:"",taxId:"",logo:"",proofOfIncorporation:""},employee:{name:"",email:"",mobile:"",country:"",dob:"",address:{text:"",pincode:"",coordinates:"",city:"",state:"",country:""},driverLicense:{card:"",expiry:"",state:""},photo:"",driverLicenseScan:"",additionalDocument:""}}),L=Object(p.a)(x,2),A=L[0];L[1];function R(){return(R=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!==A.licensee.name||""!==A.licensee.email||""!==A.licensee.mobile||""!==A.licensee.country||""!==A.licensee.businessType||""!==A.licensee.address.text||""!==A.licensee.address.pincode||""!==A.licensee.address.coordinates||""!==A.licensee.address.city||""!==A.licensee.address.state||""!==A.licensee.address.country||""!==A.licensee.radius||""!==A.licensee.bsbNumber||""!==A.licensee.availability||""!==A.licensee.workingDays||""!==A.licensee.workingHoursStart||""!==A.licensee.workingHoursEnd||""!==A.licensee.stripeAccountId||""!==A.licensee.stripeAccountVerified||""!==A.licensee.accountNumber||""!==A.licensee.mcc||""!==A.licensee.tosAcceptanceDate||""!==A.licensee.tosAcceptanceIP||""!==A.licensee.taxId||""!==A.licensee.logo||""!==A.licensee.proofOfIncorporation||""!==A.employee.name||""!==A.employee.email||""!==A.employee.mobile||""!==A.employee.country||""!==A.employee.dob||""!==A.employee.address.text||""!==A.employee.address.pincode||""!==A.employee.address.coordinates||""!==A.employee.address.city||""!==A.employee.address.state||""!==A.employee.address.country||""!==A.employee.driverLicense.card||""!==A.employee.driverLicense.expiry||""!==A.employee.driverLicense.state||""!==A.employee.photo||""!==A.employee.driverLicenseScan||""!==A.employee.additionalDocument)){e.next=4;break}return e.abrupt("return",!1);case 4:console.log("licenseeSignup.employee.driverLicense.expiry",y.employee.driverLicense.expiry),y.employee.dob=ae()(y.employee.dob).format("YYYY-MM-DD"),y.employee.driverLicense.expiry=ae()(y.employee.driverLicense.expiry,"YYYY-MM").format("MM/YY"),console.log("licenseeSignup.employee.driverLicense.expiry",y.employee.driverLicense.expiry),y.licensee.workingHours="".concat(y.licensee.workingHoursStart.replace(":",""),"-").concat(y.licensee.workingHoursEnd.replace(":","")),(a=new FormData).append("reqBody",JSON.stringify(y)),y.licensee.logo&&a.append("licenseeLogo",y.licensee.logo,y.licensee.logo.name),y.licensee.proofOfIncorporation&&a.append("licenseeProofOfIncorporation",y.licensee.proofOfIncorporation,y.licensee.proofOfIncorporation.name),y.employee.photo&&a.append("employeePhoto",y.employee.photo,y.employee.photo.name),y.employee.driverLicenseScan&&a.append("employeeDriverLicenseScan",y.employee.driverLicenseScan,y.employee.driverLicenseScan.name),y.employee.additionalDocument&&a.append("employeeAdditionalDocumentScan",y.employee.additionalDocument,y.employee.additionalDocument.name),n={method:"POST",headers:Object(D.a)({},c()),body:a},console.log("requestOptions",n),fetch(Ot,n).then((function(e){return e.json()})).then((function(e){if(console.log("".concat(Ot," Response"),e),e.success){e.licenseeObj,e.employeeObj;N(""),I("Successfully saved Licensee data"),setTimeout((function(){I(""),r.push("/adminpanel/licensees")}),5e3)}y.employee.driverLicense.expiry=ae()().add(1,"year").format("YYYY-MM")})).catch((function(e){console.log("".concat(Ot," Error"),e),N("Error occurred while saving Licensee data")}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Licensee Signup"),""!==S&&o.a.createElement(v.a,{component:"h6",variant:"h5"},S),""!==k&&o.a.createElement(v.a,{component:"h6",variant:"h5"},k),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{component:"h5"},"Licensee"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-name",label:"Name",name:"licensee-name",autoComplete:"licensee-name",autoFocus:!0,error:""!==A.licensee.name,helperText:A.licensee.name,value:y.licensee.name,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{name:e.target.value})}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-email",label:"Email",name:"licensee-email",autoComplete:"licensee-email",autoFocus:!0,error:""!==A.licensee.email,helperText:A.licensee.email,value:y.licensee.email,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{email:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:y.licensee.isEmailVerified,name:"licensee-isEmailVerified",onChange:function(e){console.log("onChange isEmailVerified",e),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{isEmailVerified:!y.licensee.isEmailVerified})}))}}),label:"Is Email Verified?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-mobile",label:"Mobile",name:"licensee-mobile",autoComplete:"licensee-mobile",autoFocus:!0,error:""!==A.licensee.mobile,helperText:A.licensee.mobile,value:y.licensee.mobile,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{mobile:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:y.licensee.isMobileVerified,name:"licensee-isMobileVerified",onChange:function(e){console.log("onChange isMobileVerified",e),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{isMobileVerified:!y.licensee.isMobileVerified})}))}}),label:"Is Mobile Verified?"})),M.businessType&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-businessType-label"},"Business Type"),o.a.createElement(le.a,{labelId:"licensee-businessType-label",id:"licensee-businessType-Select",value:y.licensee.businessType,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{businessType:e.target.value})}))},className:t.selectEmpty},M.businessType.map((function(e,t){return console.log("businessType",e,t),o.a.createElement(g.a,{key:"businessType-".concat(t),value:e},e)})))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Address"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_text",label:"Address Line",name:"licensee-address_text",autoComplete:"licensee-address_text",autoFocus:!0,error:""!==A.licensee.address.text,helperText:A.licensee.address.text,value:y.licensee.address.text,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{address:Object(D.a)({},y.licensee.address,{text:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_pincode",label:"Pincode",name:"licensee-address_pincode",autoComplete:"licensee-address_pincode",autoFocus:!0,error:""!==A.licensee.address.pincode,helperText:A.licensee.address.pincode,value:y.licensee.address.pincode,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{address:Object(D.a)({},y.licensee.address,{pincode:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_coordinates",label:"Coordinates (Latitude,Longitude format)",name:"licensee-address_coordinates",autoComplete:"licensee-address_coordinates",autoFocus:!0,error:""!==A.licensee.address.coordinates,helperText:A.licensee.address.coordinates,value:y.licensee.address.coordinates,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{address:Object(D.a)({},y.licensee.address,{coordinates:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_city",label:"City",name:"licensee-address_city",autoComplete:"licensee-address_city",autoFocus:!0,error:""!==A.licensee.address.city,helperText:A.licensee.address.city,value:y.licensee.address.city,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{address:Object(D.a)({},y.licensee.address,{city:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-address_state-label"},"State"),o.a.createElement(le.a,{labelId:"licensee-address_state-label",id:"licensee-address_state-Select",value:y.licensee.address.state,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{address:Object(D.a)({},y.licensee.address,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"state-".concat(t),value:e},e)}))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-radius",label:"Radius for Trailer Dropoff ( in kilometers )",name:"licensee-radius",autoComplete:"licensee-radius",autoFocus:!0,error:""!==A.licensee.radius,helperText:A.licensee.radius,value:y.licensee.radius,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{radius:parseInt(e.target.value)})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:y.licensee.availability,name:"licensee-availability",onChange:function(e){console.log("onChange availability",e),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{availability:!y.licensee.availability})}))}}),label:"Is Licensee Available?"}),o.a.createElement(se.a,{className:"SectionContainer"},M.days&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-workingDays-label"},"Working Days"),o.a.createElement(le.a,{multiple:!0,labelId:"licensee-workingDays-label",id:"licensee-workingDays-Select",value:y.licensee.workingDays,onChange:function(e){console.log("e.target",e.target),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{workingDays:e.target.value})}))},className:t.selectEmpty},M.days.map((function(e,t){return console.log("day",e,t),o.a.createElement(g.a,{key:"day-".concat(t),value:e},e)})))),o.a.createElement("label",null,"Working Hours"),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"WorkingHours Start",required:!0,fullWidth:!0,type:"time",id:"licensee-workingHours-start",label:"WorkingHours Start",name:"licensee-workingHours-start",autoComplete:"licensee-workingHours-start",autoFocus:!0,error:""!==A.licensee.workingHoursStart,helperText:A.licensee.workingHoursStart,value:y.licensee.workingHoursStart,onChange:function(e){console.log("WorkingHours Start",e.target.value),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{workingHoursStart:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"WorkingHours End",required:!0,fullWidth:!0,type:"time",id:"licensee-workingHours-end",label:"WorkingHours End",name:"licensee-workingHours-end",autoComplete:"licensee-workingHours-end",autoFocus:!0,error:""!==A.licensee.workingHoursEnd,helperText:A.licensee.workingHoursEnd,value:y.licensee.workingHoursEnd,onChange:function(e){console.log("WorkingHours End",e.target.value),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{workingHoursEnd:e.target.value})}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-bsbNumber",label:"BSB Number",name:"licensee-bsbNumber",autoComplete:"licensee-bsbNumber",autoFocus:!0,error:""!==A.licensee.bsbNumber,helperText:A.licensee.bsbNumber,value:y.licensee.bsbNumber,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{bsbNumber:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-accountNumber",label:"Account Number",name:"licensee-accountNumber",autoComplete:"licensee-accountNumber",autoFocus:!0,error:""!==A.licensee.accountNumber,helperText:A.licensee.accountNumber,value:y.licensee.accountNumber,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{accountNumber:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"url",id:"licensee-url",label:"Website URL",name:"licensee-url",autoComplete:"licensee-url",autoFocus:!0,error:""!==A.licensee.url,helperText:A.licensee.url,value:y.licensee.url,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{url:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"licensee-taxId",label:"Tax ID",name:"licensee-taxId",autoComplete:"licensee-taxId",autoFocus:!0,error:""!==A.licensee.taxId,helperText:A.licensee.taxId,value:y.licensee.taxId,onChange:function(e){O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{taxId:e.target.value})}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Logo"),y.licensee.logoLink&&!y.licensee.logo&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:y.licensee.logoLink},"Logo")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"licensee-logo",multiple:!0,type:"file",name:"licensee-logo",onChange:function(e){console.log("licensee-logo",e.target.files),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{photo:e.target.files[0]})}))}})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Proof Of Incorporation"),y.licensee.proofOfIncorporationLink&&!y.licensee.proofOfIncorporation&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:y.licensee.proofOfIncorporationLink},"Proof Of Incorporation")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, image/pdf",id:"licensee-proofOfIncorporation",multiple:!0,type:"file",name:"licensee-proofOfIncorporation",onChange:function(e){console.log("licensee-proofOfIncorporation",e.target.files),O(Object(D.a)({},y,{licensee:Object(D.a)({},y.licensee,{proofOfIncorporation:e.target.files[0]})}))}}))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{component:"h5"},"Employee"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-name",label:"Name",name:"employee-name",autoComplete:"employee-name",autoFocus:!0,error:""!==A.employee.name,helperText:A.employee.name,value:y.employee.name,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{name:e.target.value})}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-email",label:"Email",name:"employee-email",autoComplete:"employee-email",autoFocus:!0,error:""!==A.employee.email,helperText:A.employee.email,value:y.employee.email,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{email:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:y.employee.isEmailVerified,name:"employee-isEmailVerified",onChange:function(e){console.log("onChange isEmailVerified",e),O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{isEmailVerified:!y.employee.isEmailVerified})}))}}),label:"Is Email Verified?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-mobile",label:"Mobile",name:"employee-mobile",autoComplete:"employee-mobile",autoFocus:!0,error:""!==A.employee.mobile,helperText:A.employee.mobile,value:y.employee.mobile,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{mobile:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:y.employee.isMobileVerified,name:"employee-isMobileVerified",onChange:function(e){console.log("onChange isMobileVerified",e),O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{isMobileVerified:!y.employee.isMobileVerified})}))}}),label:"Is Mobile Verified?"})),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"Date of Birth",required:!0,fullWidth:!0,type:"date",id:"employee-dob",label:"Date Of Birth",name:"employee-dob",autoComplete:"employee-dob",autoFocus:!0,error:""!==A.employee.dob,helperText:A.employee.dob,value:y.employee.dob,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{dob:e.target.value})}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Address"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_text",label:"Address Line",name:"employee-address_text",autoComplete:"employee-address_text",autoFocus:!0,error:""!==A.employee.address.text,helperText:A.employee.address.text,value:y.employee.address.text,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{address:Object(D.a)({},y.employee.address,{text:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_pincode",label:"Pincode",name:"employee-address_pincode",autoComplete:"employee-address_pincode",autoFocus:!0,error:""!==A.employee.address.pincode,helperText:A.employee.address.pincode,value:y.employee.address.pincode,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{address:Object(D.a)({},y.employee.address,{pincode:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_coordinates",label:"Coordinates (Latitude,Longitude format)",name:"employee-address_coordinates",autoComplete:"employee-address_coordinates",autoFocus:!0,error:""!==A.employee.address.coordinates,helperText:A.employee.address.coordinates,value:y.employee.address.coordinates,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{address:Object(D.a)({},y.employee.address,{coordinates:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_city",label:"City",name:"employee-address_city",autoComplete:"employee-address_city",autoFocus:!0,error:""!==A.employee.address.city,helperText:A.employee.address.city,value:y.employee.address.city,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{address:Object(D.a)({},y.employee.address,{city:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"employee-address_state-label"},"State"),o.a.createElement(le.a,{labelId:"employee-address_state-label",id:"employee-address_state-Select",value:y.employee.address.state,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{address:Object(D.a)({},y.employee.address,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"employee-state-".concat(t),value:e},e)}))))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Driver License"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-driverLicense_card",label:"Driver License Number",name:"employee-driverLicense_card",autoComplete:"employee-driverLicense_card",autoFocus:!0,error:""!==A.employee.driverLicense.card,helperText:A.employee.driverLicense.card,value:y.employee.driverLicense.card,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{driverLicense:Object(D.a)({},y.employee.driverLicense,{card:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"month",id:"employee-driverLicense_expiry",label:"Expiry Date",name:"employee-driverLicense_expiry",autoComplete:"employee-driverLicense_expiry",autoFocus:!0,error:""!==A.employee.driverLicense.expiry,helperText:A.employee.driverLicense.expiry,value:y.employee.driverLicense.expiry,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{driverLicense:Object(D.a)({},y.employee.driverLicense,{expiry:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"employee-driverLicense_state-label"},"State"),o.a.createElement(le.a,{labelId:"employee-driverLicense_state-label",id:"employee-driverLicense_state-Select",value:y.employee.driverLicense.state,onChange:function(e){O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{driverLicense:Object(D.a)({},y.employee.driverLicense,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"driverLicense-state-".concat(t),value:e},e)})))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Scan ( Scan of Front and Back side of Driver License in a single File )"),y.employee.driverLicense.scanLink&&!y.employee.driverLicenseScan&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:y.employee.driverLicense.scanLink},"Scan")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, application/pdf",id:"employee-driverLicenseScan",type:"file",name:"employee-driverLicenseScan",onChange:function(e){console.log("employee-driverLicenseScan",e.target.files),O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{driverLicenseScan:e.target.files[0]})}))}}))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photo"),y.employee.photoLink&&!y.employee.photo&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:y.employee.photoLink},"Photo")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"employee-photo",type:"file",name:"employee-photo",onChange:function(e){console.log("employee-photo",e.target.files),O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{photo:e.target.files[0]})}))}})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Additional Document"),y.employee.additionalDocumentLink&&!y.employee.additionalDocument&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:y.employee.additionalDocumentLink},"Additional Document")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, application/pdf",id:"employee-additionalDocument",type:"file",name:"employee-additionalDocument",onChange:function(e){console.log("employee-additionalDocument",e.target.files),O(Object(D.a)({},y,{employee:Object(D.a)({},y.employee,{additionalDocument:e.target.files[0]})}))}}))),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return R.apply(this,arguments)}},"Signup"))))}var Ct=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}})),St=M.apiUrl,It="".concat(St,"/admin/licensee"),wt="".concat(St,"/admin/licensee");function Tt(e){console.log("LicenseeEdit",e);var t=Ct(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().licenseeId;console.log("licenseeId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;l&&!a.acl.LICENSEE.includes("UPDATE")&&r.replace(d);var m={licensee:{name:"",email:"",isEmailVerified:!1,mobile:"",isMobileVerified:!1,country:M.country,businessType:M.businessType[0],address:{text:"",pincode:"",coordinates:"",city:"",state:M.states[0],country:M.country},radius:100,availability:!0,workingDays:M.days,workingHours:M.hours,workingHoursStart:M.hoursStart,workingHoursEnd:M.hoursEnd,bsbNumber:"",accountNumber:"",taxId:"",stripeAccountId:"",stripeAccountVerified:!1,mcc:"",productDescription:"",tosAcceptanceDate:"",tosAcceptanceIP:"",logoLink:"",proofOfIncorporationLink:"",logo:null,proofOfIncorporation:null}},f=Object(n.useState)(0),b=Object(p.a)(f,2),h=b[0],y=(b[1],Object(n.useState)(m)),O=Object(p.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)(""),I=Object(p.a)(S,2),w=I[0],T=I[1],k=Object(n.useState)(""),N=Object(p.a)(k,2),x=N[0],L=N[1];Object(n.useEffect)((function(){if(l){var e={method:"GET",headers:c()};fetch("".concat(It,"?id=").concat(l),e).then((function(e){return e.json()})).then((function(e){console.log("Customer API Call Response",e.customerObj);var t=e.licenseeObj,a=t.workingHours.split("-"),n="".concat(a[0].substring(0,2),":").concat(a[0].substring(2,4)),o="".concat(a[1].substring(0,2),":").concat(a[1].substring(2,4));C({licensee:{name:t.name,email:t.email,isEmailVerified:t.isEmailVerified,mobile:t.mobile,isMobileVerified:t.isMobileVerified,country:t.country,businessType:t.businessType,address:{text:t.address.text,pincode:t.address.pincode,coordinates:t.address.coordinates.join(","),city:t.address.city,state:t.address.state,country:t.address.country},radius:t.radius,availability:t.availability,workingDays:t.workingDays,workingHours:t.workingHours,workingHoursStart:n,workingHoursEnd:o,bsbNumber:t.bsbNumber,accountNumber:t.accountNumber,taxId:t.taxId,stripeAccountId:t.stripeAccountId,stripeAccountVerified:t.stripeAccountVerified,mcc:t.mcc,productDescription:t.productDescription,tosAcceptanceDate:t.tosAcceptanceDate,tosAcceptanceIP:t.tosAcceptanceIP,logoLink:t.logo,proofOfIncorporationLink:t.proofOfIncorporation,logo:null,proofOfIncorporation:null}})})).catch((function(e){console.log("Error occurred while fetching Licensee data",e)}))}}),[h]);var A=Object(n.useState)({licensee:{name:"",email:"",mobile:"",country:"",businessType:"",address:{text:"",pincode:"",coordinates:"",city:"",state:"",country:""},radius:"",availability:"",workingDays:"",workingHoursStart:"",workingHoursEnd:"",bsbNumber:"",accountNumber:"",taxId:"",stripeAccountId:"",stripeAccountVerified:"",mcc:"",productDescription:"",tosAcceptanceDate:"",tosAcceptanceIP:"",logo:"",proofOfIncorporation:""}}),R=Object(p.a)(A,2),P=R[0];R[1];function F(){return(F=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!==P.licensee.name||""!==P.licensee.email||""!==P.licensee.mobile||""!==P.licensee.country||""!==P.licensee.businessType||""!==P.licensee.address.text||""!==P.licensee.address.pincode||""!==P.licensee.address.coordinates||""!==P.licensee.address.city||""!==P.licensee.address.state||""!==P.licensee.address.country||""!==P.licensee.radius||""!==P.licensee.availability||""!==P.licensee.workingDays||""!==P.licensee.workingHoursStart||""!==P.licensee.workingHoursEnd||""!==P.licensee.bsbNumber||""!==P.licensee.accountNumber||""!==P.licensee.taxId||""!==P.licensee.stripeAccountId||""!==P.licensee.stripeAccountVerified||""!==P.licensee.mcc||""!==P.licensee.productDescription||""!==P.licensee.tosAcceptanceDate||""!==P.licensee.tosAcceptanceIP||""!==P.licensee.logo||""!==P.licensee.proofOfIncorporation)){e.next=4;break}return e.abrupt("return",!1);case 4:j.licensee.workingHours="".concat(j.licensee.workingHoursStart.replace(":",""),"-").concat(j.licensee.workingHoursEnd.replace(":","")),(a=new FormData).append("reqBody",JSON.stringify(j.licensee)),j.licensee.logo&&a.append("licenseeLogo",j.licensee.logo,j.licensee.logo.name),j.licensee.proofOfIncorporation&&a.append("licenseeProofOfIncorporation",j.licensee.proofOfIncorporation,j.licensee.proofOfIncorporation.name),n={method:"PUT",headers:Object(D.a)({},c()),body:a},console.log("requestOptions",n),fetch(wt,n).then((function(e){return e.json()})).then((function(e){if(console.log("".concat(wt," Response"),e),e.success){e.licenseeObj,e.employeeObj;L(""),T("Successfully saved Licensee data"),setTimeout((function(){T(""),r.push("/adminpanel/licensees")}),5e3)}j.employee.driverLicense.expiry=ae()().add(1,"year").format("YYYY-MM")})).catch((function(e){console.log("".concat(wt," Error"),e),L("Error occurred while saving Licensee data")}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Licensee Signup"),""!==w&&o.a.createElement(v.a,{component:"h6",variant:"h5"},w),""!==x&&o.a.createElement(v.a,{component:"h6",variant:"h5"},x),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{component:"h5"},"Licensee"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-name",label:"Name",name:"licensee-name",autoComplete:"licensee-name",autoFocus:!0,error:""!==P.licensee.name,helperText:P.licensee.name,value:j.licensee.name,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{name:e.target.value})}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-email",label:"Email",name:"licensee-email",autoComplete:"licensee-email",autoFocus:!0,error:""!==P.licensee.email,helperText:P.licensee.email,value:j.licensee.email,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{email:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:j.licensee.isEmailVerified,name:"licensee-isEmailVerified",onChange:function(e){console.log("onChange isEmailVerified",e),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{isEmailVerified:!j.licensee.isEmailVerified})}))}}),label:"Is Email Verified?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-mobile",label:"Mobile",name:"licensee-mobile",autoComplete:"licensee-mobile",autoFocus:!0,error:""!==P.licensee.mobile,helperText:P.licensee.mobile,value:j.licensee.mobile,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{mobile:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:j.licensee.isMobileVerified,name:"licensee-isMobileVerified",onChange:function(e){console.log("onChange isMobileVerified",e),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{isMobileVerified:!j.licensee.isMobileVerified})}))}}),label:"Is Mobile Verified?"})),M.businessType&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-businessType-label"},"Business Type"),o.a.createElement(le.a,{labelId:"licensee-businessType-label",id:"licensee-businessType-Select",value:j.licensee.businessType,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{businessType:e.target.value})}))},className:t.selectEmpty},M.businessType.map((function(e,t){return console.log("businessType",e,t),o.a.createElement(g.a,{key:"businessType-".concat(t),value:e},e)})))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Address"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_text",label:"Address Line",name:"licensee-address_text",autoComplete:"licensee-address_text",autoFocus:!0,error:""!==P.licensee.address.text,helperText:P.licensee.address.text,value:j.licensee.address.text,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{address:Object(D.a)({},j.licensee.address,{text:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_pincode",label:"Pincode",name:"licensee-address_pincode",autoComplete:"licensee-address_pincode",autoFocus:!0,error:""!==P.licensee.address.pincode,helperText:P.licensee.address.pincode,value:j.licensee.address.pincode,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{address:Object(D.a)({},j.licensee.address,{pincode:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_coordinates",label:"Coordinates (Latitude,Longitude format)",name:"licensee-address_coordinates",autoComplete:"licensee-address_coordinates",autoFocus:!0,error:""!==P.licensee.address.coordinates,helperText:P.licensee.address.coordinates,value:j.licensee.address.coordinates,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{address:Object(D.a)({},j.licensee.address,{coordinates:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_city",label:"City",name:"licensee-address_city",autoComplete:"licensee-address_city",autoFocus:!0,error:""!==P.licensee.address.city,helperText:P.licensee.address.city,value:j.licensee.address.city,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{address:Object(D.a)({},j.licensee.address,{city:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-address_state-label"},"State"),o.a.createElement(le.a,{labelId:"licensee-address_state-label",id:"licensee-address_state-Select",value:j.licensee.address.state,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{address:Object(D.a)({},j.licensee.address,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"state-".concat(t),value:e},e)}))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-radius",label:"Radius for Trailer Dropoff ( in kilometers )",name:"licensee-radius",autoComplete:"licensee-radius",autoFocus:!0,error:""!==P.licensee.radius,helperText:P.licensee.radius,value:j.licensee.radius,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{radius:parseInt(e.target.value)})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:j.licensee.availability,name:"licensee-availability",onChange:function(e){console.log("onChange availability",e),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{availability:!j.licensee.availability})}))}}),label:"Is Licensee Available?"}),o.a.createElement(se.a,{className:"SectionContainer"},M.days&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-workingDays-label"},"Working Days"),o.a.createElement(le.a,{multiple:!0,labelId:"licensee-workingDays-label",id:"licensee-workingDays-Select",value:j.licensee.workingDays,onChange:function(e){console.log("e.target",e.target),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{workingDays:e.target.value})}))},className:t.selectEmpty},M.days.map((function(e,t){return console.log("day",e,t),o.a.createElement(g.a,{key:"day-".concat(t),value:e},e)})))),o.a.createElement("label",null,"Working Hours"),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"WorkingHours Start",required:!0,fullWidth:!0,type:"time",id:"licensee-workingHours-start",label:"WorkingHours Start",name:"licensee-workingHours-start",autoComplete:"licensee-workingHours-start",autoFocus:!0,error:""!==P.licensee.workingHoursStart,helperText:P.licensee.workingHoursStart,value:j.licensee.workingHoursStart,onChange:function(e){console.log("WorkingHours Start",e.target.value),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{workingHoursStart:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"WorkingHours End",required:!0,fullWidth:!0,type:"time",id:"licensee-workingHours-end",label:"WorkingHours End",name:"licensee-workingHours-end",autoComplete:"licensee-workingHours-end",autoFocus:!0,error:""!==P.licensee.workingHoursEnd,helperText:P.licensee.workingHoursEnd,value:j.licensee.workingHoursEnd,onChange:function(e){console.log("WorkingHours End",e.target.value),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{workingHoursEnd:e.target.value})}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-bsbNumber",label:"BSB Number",name:"licensee-bsbNumber",autoComplete:"licensee-bsbNumber",autoFocus:!0,error:""!==P.licensee.bsbNumber,helperText:P.licensee.bsbNumber,value:j.licensee.bsbNumber,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{bsbNumber:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-accountNumber",label:"Account Number",name:"licensee-accountNumber",autoComplete:"licensee-accountNumber",autoFocus:!0,error:""!==P.licensee.accountNumber,helperText:P.licensee.accountNumber,value:j.licensee.accountNumber,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{accountNumber:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"url",id:"licensee-url",label:"Website URL",name:"licensee-url",autoComplete:"licensee-url",autoFocus:!0,error:""!==P.licensee.url,helperText:P.licensee.url,value:j.licensee.url,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{url:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"licensee-taxId",label:"Tax ID",name:"licensee-taxId",autoComplete:"licensee-taxId",autoFocus:!0,error:""!==P.licensee.taxId,helperText:P.licensee.taxId,value:j.licensee.taxId,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{taxId:e.target.value})}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Logo"),j.licensee.logoLink&&!j.licensee.logo&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:j.licensee.logoLink},"Logo")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"licensee-logo",multiple:!0,type:"file",name:"licensee-logo",onChange:function(e){console.log("licensee-logo",e.target.files),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{photo:e.target.files[0]})}))}})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Proof Of Incorporation"),j.licensee.proofOfIncorporationLink&&!j.licensee.proofOfIncorporation&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:j.licensee.proofOfIncorporationLink},"Proof Of Incorporation")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, image/pdf",id:"licensee-proofOfIncorporation",multiple:!0,type:"file",name:"licensee-proofOfIncorporation",onChange:function(e){console.log("licensee-proofOfIncorporation",e.target.files),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{proofOfIncorporation:e.target.files[0]})}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,disabled:!0,id:"licensee-stripeAccountId",label:"Stripe Account ID",name:"licensee-stripeAccountId",autoComplete:"licensee-stripeAccountId",autoFocus:!0,error:""!==P.licensee.stripeAccountId,helperText:P.licensee.stripeAccountId,value:j.licensee.stripeAccountId,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{stripeAccountId:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:j.licensee.stripeAccountVerified,name:"licensee-stripeAccountVerified",onChange:function(e){console.log("onChange stripeAccountVerified",e),C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{stripeAccountVerified:!j.licensee.stripeAccountVerified})}))}}),label:"Is Stripe Account Verified?"}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,disabled:!0,id:"licensee-mcc",label:"MCC",name:"licensee-mcc",autoComplete:"licensee-mcc",autoFocus:!0,error:""!==P.licensee.mcc,helperText:P.licensee.mcc,value:j.licensee.mcc,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{mcc:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,disabled:!0,id:"licensee-productDescription",label:"Product Description",name:"licensee-productDescription",autoComplete:"licensee-productDescription",autoFocus:!0,error:""!==P.licensee.productDescription,helperText:P.licensee.productDescription,value:j.licensee.productDescription,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{productDescription:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,disabled:!0,type:"date",id:"licensee-tosAcceptanceDate",label:"Acceptance Date",name:"licensee-tosAcceptanceDate",autoComplete:"licensee-tosAcceptanceDate",autoFocus:!0,error:""!==P.licensee.tosAcceptanceDate,helperText:P.licensee.tosAcceptanceDate,value:j.licensee.tosAcceptanceDate,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{tosAcceptanceDate:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,disabled:!0,id:"licensee-tosAcceptanceIP",label:"Acceptance Date",name:"licensee-tosAcceptanceIP",autoComplete:"licensee-tosAcceptanceIP",autoFocus:!0,error:""!==P.licensee.tosAcceptanceIP,helperText:P.licensee.tosAcceptanceIP,value:j.licensee.tosAcceptanceIP,onChange:function(e){C(Object(D.a)({},j,{licensee:Object(D.a)({},j.licensee,{tosAcceptanceIP:e.target.value})}))}})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return F.apply(this,arguments)}},"Save"))))}var kt=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}})),Nt=M.apiUrl,xt="".concat(Nt,"/admin/licensee/employee"),Lt="".concat(Nt,"/admin/licensee/employee");function Dt(e){console.log("LicenseeEmployeeEdit",e);var t=kt(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)(),d=l.licenseeId,m=l.employeeId;console.log("licenseeId",d,"employeeId",m);var f=(i.state||{from:{pathname:"/adminpanel/"}}).from;d&&m&&a.acl.LICENSEEEMPLOYEE.includes("UPDATE")||r.replace(f);var b={employee:{name:"",email:"",isEmailVerified:!1,mobile:"",isMobileVerified:!1,country:M.country,dob:ae()().subtract(18,"years").format("YYYY-MM-DD"),address:{text:"",pincode:"",coordinates:"",city:"",state:M.states[0],country:M.country},driverLicense:{card:"",expiry:ae()().add(1,"year").format("YYYY-MM"),state:M.states[0],scanLink:""},isDeleted:!1,photoLink:"",additionalDocumentLink:"",photo:null,driverLicenseScan:null,additionalDocument:null}},h=Object(n.useState)(0),y=Object(p.a)(h,2),O=y[0],j=(y[1],Object(n.useState)(b)),C=Object(p.a)(j,2),S=C[0],I=C[1],w=Object(n.useState)(""),T=Object(p.a)(w,2),k=T[0],N=T[1],x=Object(n.useState)(""),L=Object(p.a)(x,2),A=L[0],R=L[1];function P(e){var t=e.split("/"),a="20".concat(t[1],"-").concat(t[0],"-01");return ae()(a).format("YYYY-MM")}Object(n.useEffect)((function(){if(m){var e={method:"GET",headers:c()};fetch("".concat(xt,"?id=").concat(m),e).then((function(e){return e.json()})).then((function(e){console.log("Customer API Call Response",e.customerObj);var t=e.employeeObj;I({employee:{name:t.name,email:t.email,isEmailVerified:t.isEmailVerified,mobile:t.mobile,isMobileVerified:t.isMobileVerified,country:t.country,dob:ae()(t.dob).format("YYYY-MM-DD"),address:{text:t.address.text,pincode:t.address.pincode,coordinates:t.address.coordinates.join(","),city:t.address.city,state:t.address.state,country:t.address.country},driverLicense:{card:t.driverLicense.card,expiry:P(t.driverLicense.expiry),state:t.driverLicense.state,scanLink:t.driverLicense.scan},photoLink:t.photo,additionalDocumentLink:t.additionalDocument,isDeleted:t.isDeleted,photo:null,driverLicenseScan:null,additionalDocument:null}})})).catch((function(e){console.log("Error occurred while fetching Licensee Employee data",e)}))}}),[O]);var F=Object(n.useState)({employee:{name:"",email:"",mobile:"",country:"",dob:"",address:{text:"",pincode:"",coordinates:"",city:"",state:"",country:""},driverLicense:{card:"",expiry:"",state:""},photo:"",driverLicenseScan:"",additionalDocument:""}}),W=Object(p.a)(F,2),q=W[0];W[1];function V(){return(V=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!==q.licensee.name||""!==q.licensee.email||""!==q.licensee.mobile||""!==q.licensee.country||""!==q.licensee.businessType||""!==q.licensee.address.text||""!==q.licensee.address.pincode||""!==q.licensee.address.coordinates||""!==q.licensee.address.city||""!==q.licensee.address.state||""!==q.licensee.address.country||""!==q.licensee.radius||""!==q.licensee.bsbNumber||""!==q.licensee.availability||""!==q.licensee.workingDays||""!==q.licensee.workingHoursStart||""!==q.licensee.workingHoursEnd||""!==q.licensee.stripeAccountId||""!==q.licensee.stripeAccountVerified||""!==q.licensee.accountNumber||""!==q.licensee.mcc||""!==q.licensee.tosAcceptanceDate||""!==q.licensee.tosAcceptanceIP||""!==q.licensee.taxId||""!==q.licensee.logo||""!==q.licensee.proofOfIncorporation||""!==q.employee.name||""!==q.employee.email||""!==q.employee.mobile||""!==q.employee.country||""!==q.employee.dob||""!==q.employee.address.text||""!==q.employee.address.pincode||""!==q.employee.address.coordinates||""!==q.employee.address.city||""!==q.employee.address.state||""!==q.employee.address.country||""!==q.employee.driverLicense.card||""!==q.employee.driverLicense.expiry||""!==q.employee.driverLicense.state||""!==q.employee.photo||""!==q.employee.driverLicenseScan||""!==q.employee.additionalDocument)){e.next=4;break}return e.abrupt("return",!1);case 4:console.log("licenseeSignup.employee.driverLicense.expiry",S.employee.driverLicense.expiry),S.employee.dob=ae()(S.employee.dob).format("YYYY-MM-DD"),S.employee.driverLicense.expiry=ae()(S.employee.driverLicense.expiry,"YYYY-MM").format("MM/YY"),console.log("licenseeSignup.employee.driverLicense.expiry",S.employee.driverLicense.expiry),S.licensee.workingHours="".concat(S.licensee.workingHoursStart.replace(":",""),"-").concat(S.licensee.workingHoursEnd.replace(":","")),(a=new FormData).append("reqBody",JSON.stringify(S)),S.employee.photo&&a.append("employeePhoto",S.employee.photo,S.employee.photo.name),S.employee.driverLicenseScan&&a.append("employeeDriverLicenseScan",S.employee.driverLicenseScan,S.employee.driverLicenseScan.name),S.employee.additionalDocument&&a.append("employeeAdditionalDocumentScan",S.employee.additionalDocument,S.employee.additionalDocument.name),n={method:"PUT",headers:Object(D.a)({},c()),body:a},console.log("requestOptions",n),fetch(Lt,n).then((function(e){return e.json()})).then((function(e){if(console.log("".concat(Lt," Response"),e),e.success){var t=e.employeeObj;I({employee:{name:t.name,email:t.email,isEmailVerified:t.isEmailVerified,mobile:t.mobile,isMobileVerified:t.isMobileVerified,country:t.country,dob:ae()(t.dob).format("YYYY-MM-DD"),address:{text:t.address.text,pincode:t.address.pincode,coordinates:t.address.coordinates.join(","),city:t.address.city,state:t.address.state,country:t.address.country},driverLicense:{card:t.driverLicense.card,expiry:P(t.driverLicense.expiry),state:t.driverLicense.state,scanLink:t.driverLicense.scan},isDeleted:t.isDeleted,photoLink:t.photo,additionalDocumentLink:t.additionalDocument,photo:null,driverLicenseScan:null,additionalDocument:null}}),R(""),N("Successfully saved Licensee data"),setTimeout((function(){N(""),r.push("/adminpanel/licensees")}),5e3)}S.employee.driverLicense.expiry=ae()().add(1,"year").format("YYYY-MM")})).catch((function(e){console.log("".concat(Lt," Error"),e),R("Error occurred while saving Licensee data")}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Employee Edit"),""!==k&&o.a.createElement(v.a,{component:"h6",variant:"h5"},k),""!==A&&o.a.createElement(v.a,{component:"h6",variant:"h5"},A),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{component:"h5"},"Licensee"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-name",label:"Name",name:"licensee-name",autoComplete:"licensee-name",autoFocus:!0,error:""!==q.licensee.name,helperText:q.licensee.name,value:S.licensee.name,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{name:e.target.value})}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-email",label:"Email",name:"licensee-email",autoComplete:"licensee-email",autoFocus:!0,error:""!==q.licensee.email,helperText:q.licensee.email,value:S.licensee.email,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{email:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:S.licensee.isEmailVerified,name:"licensee-isEmailVerified",onChange:function(e){console.log("onChange isEmailVerified",e),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{isEmailVerified:!S.licensee.isEmailVerified})}))}}),label:"Is Email Verified?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-mobile",label:"Mobile",name:"licensee-mobile",autoComplete:"licensee-mobile",autoFocus:!0,error:""!==q.licensee.mobile,helperText:q.licensee.mobile,value:S.licensee.mobile,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{mobile:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:S.licensee.isMobileVerified,name:"licensee-isMobileVerified",onChange:function(e){console.log("onChange isMobileVerified",e),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{isMobileVerified:!S.licensee.isMobileVerified})}))}}),label:"Is Mobile Verified?"})),M.businessType&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-businessType-label"},"Business Type"),o.a.createElement(le.a,{labelId:"licensee-businessType-label",id:"licensee-businessType-Select",value:S.licensee.businessType,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{businessType:e.target.value})}))},className:t.selectEmpty},M.businessType.map((function(e,t){return console.log("businessType",e,t),o.a.createElement(g.a,{key:"businessType-".concat(t),value:e},e)})))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Address"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_text",label:"Address Line",name:"licensee-address_text",autoComplete:"licensee-address_text",autoFocus:!0,error:""!==q.licensee.address.text,helperText:q.licensee.address.text,value:S.licensee.address.text,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{address:Object(D.a)({},S.licensee.address,{text:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_pincode",label:"Pincode",name:"licensee-address_pincode",autoComplete:"licensee-address_pincode",autoFocus:!0,error:""!==q.licensee.address.pincode,helperText:q.licensee.address.pincode,value:S.licensee.address.pincode,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{address:Object(D.a)({},S.licensee.address,{pincode:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_coordinates",label:"Coordinates (Latitude,Longitude format)",name:"licensee-address_coordinates",autoComplete:"licensee-address_coordinates",autoFocus:!0,error:""!==q.licensee.address.coordinates,helperText:q.licensee.address.coordinates,value:S.licensee.address.coordinates,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{address:Object(D.a)({},S.licensee.address,{coordinates:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-address_city",label:"City",name:"licensee-address_city",autoComplete:"licensee-address_city",autoFocus:!0,error:""!==q.licensee.address.city,helperText:q.licensee.address.city,value:S.licensee.address.city,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{address:Object(D.a)({},S.licensee.address,{city:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-address_state-label"},"State"),o.a.createElement(le.a,{labelId:"licensee-address_state-label",id:"licensee-address_state-Select",value:S.licensee.address.state,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{address:Object(D.a)({},S.licensee.address,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"state-".concat(t),value:e},e)}))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-radius",label:"Radius for Trailer Dropoff ( in kilometers )",name:"licensee-radius",autoComplete:"licensee-radius",autoFocus:!0,error:""!==q.licensee.radius,helperText:q.licensee.radius,value:S.licensee.radius,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{radius:parseInt(e.target.value)})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:S.licensee.availability,name:"licensee-availability",onChange:function(e){console.log("onChange availability",e),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{availability:!S.licensee.availability})}))}}),label:"Is Licensee Available?"}),o.a.createElement(se.a,{className:"SectionContainer"},M.days&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"licensee-workingDays-label"},"Working Days"),o.a.createElement(le.a,{multiple:!0,labelId:"licensee-workingDays-label",id:"licensee-workingDays-Select",value:S.licensee.workingDays,onChange:function(e){console.log("e.target",e.target),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{workingDays:e.target.value})}))},className:t.selectEmpty},M.days.map((function(e,t){return console.log("day",e,t),o.a.createElement(g.a,{key:"day-".concat(t),value:e},e)})))),o.a.createElement("label",null,"Working Hours"),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"WorkingHours Start",required:!0,fullWidth:!0,type:"time",id:"licensee-workingHours-start",label:"WorkingHours Start",name:"licensee-workingHours-start",autoComplete:"licensee-workingHours-start",autoFocus:!0,error:""!==q.licensee.workingHoursStart,helperText:q.licensee.workingHoursStart,value:S.licensee.workingHoursStart,onChange:function(e){console.log("WorkingHours Start",e.target.value),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{workingHoursStart:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"WorkingHours End",required:!0,fullWidth:!0,type:"time",id:"licensee-workingHours-end",label:"WorkingHours End",name:"licensee-workingHours-end",autoComplete:"licensee-workingHours-end",autoFocus:!0,error:""!==q.licensee.workingHoursEnd,helperText:q.licensee.workingHoursEnd,value:S.licensee.workingHoursEnd,onChange:function(e){console.log("WorkingHours End",e.target.value),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{workingHoursEnd:e.target.value})}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-bsbNumber",label:"BSB Number",name:"licensee-bsbNumber",autoComplete:"licensee-bsbNumber",autoFocus:!0,error:""!==q.licensee.bsbNumber,helperText:q.licensee.bsbNumber,value:S.licensee.bsbNumber,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{bsbNumber:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"licensee-accountNumber",label:"Account Number",name:"licensee-accountNumber",autoComplete:"licensee-accountNumber",autoFocus:!0,error:""!==q.licensee.accountNumber,helperText:q.licensee.accountNumber,value:S.licensee.accountNumber,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{accountNumber:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"url",id:"licensee-url",label:"Website URL",name:"licensee-url",autoComplete:"licensee-url",autoFocus:!0,error:""!==q.licensee.url,helperText:q.licensee.url,value:S.licensee.url,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{url:e.target.value})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"licensee-taxId",label:"Tax ID",name:"licensee-taxId",autoComplete:"licensee-taxId",autoFocus:!0,error:""!==q.licensee.taxId,helperText:q.licensee.taxId,value:S.licensee.taxId,onChange:function(e){I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{taxId:e.target.value})}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Logo"),S.licensee.logoLink&&!S.licensee.logo&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:S.licensee.logoLink},"Logo")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"licensee-logo",multiple:!0,type:"file",name:"licensee-logo",onChange:function(e){console.log("licensee-logo",e.target.files),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{photo:e.target.files[0]})}))}})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Proof Of Incorporation"),S.licensee.proofOfIncorporationLink&&!S.licensee.proofOfIncorporation&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:S.licensee.proofOfIncorporationLink},"Proof Of Incorporation")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, image/pdf",id:"licensee-proofOfIncorporation",multiple:!0,type:"file",name:"licensee-proofOfIncorporation",onChange:function(e){console.log("licensee-proofOfIncorporation",e.target.files),I(Object(D.a)({},S,{licensee:Object(D.a)({},S.licensee,{proofOfIncorporation:e.target.files[0]})}))}}))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{component:"h5"},"Employee"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-name",label:"Name",name:"employee-name",autoComplete:"employee-name",autoFocus:!0,error:""!==q.employee.name,helperText:q.employee.name,value:S.employee.name,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{name:e.target.value})}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-email",label:"Email",name:"employee-email",autoComplete:"employee-email",autoFocus:!0,error:""!==q.employee.email,helperText:q.employee.email,value:S.employee.email,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{email:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:S.employee.isEmailVerified,name:"employee-isEmailVerified",onChange:function(e){console.log("onChange isEmailVerified",e),I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{isEmailVerified:!S.employee.isEmailVerified})}))}}),label:"Is Email Verified?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-mobile",label:"Mobile",name:"employee-mobile",autoComplete:"employee-mobile",autoFocus:!0,error:""!==q.employee.mobile,helperText:q.employee.mobile,value:S.employee.mobile,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{mobile:e.target.value})}))}}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:S.employee.isMobileVerified,name:"employee-isMobileVerified",onChange:function(e){console.log("onChange isMobileVerified",e),I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{isMobileVerified:!S.employee.isMobileVerified})}))}}),label:"Is Mobile Verified?"})),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"Date of Birth",required:!0,fullWidth:!0,type:"date",id:"employee-dob",label:"Date Of Birth",name:"employee-dob",autoComplete:"employee-dob",autoFocus:!0,error:""!==q.employee.dob,helperText:q.employee.dob,value:S.employee.dob,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{dob:e.target.value})}))}}),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Address"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_text",label:"Address Line",name:"employee-address_text",autoComplete:"employee-address_text",autoFocus:!0,error:""!==q.employee.address.text,helperText:q.employee.address.text,value:S.employee.address.text,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{address:Object(D.a)({},S.employee.address,{text:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_pincode",label:"Pincode",name:"employee-address_pincode",autoComplete:"employee-address_pincode",autoFocus:!0,error:""!==q.employee.address.pincode,helperText:q.employee.address.pincode,value:S.employee.address.pincode,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{address:Object(D.a)({},S.employee.address,{pincode:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_coordinates",label:"Coordinates (Latitude,Longitude format)",name:"employee-address_coordinates",autoComplete:"employee-address_coordinates",autoFocus:!0,error:""!==q.employee.address.coordinates,helperText:q.employee.address.coordinates,value:S.employee.address.coordinates,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{address:Object(D.a)({},S.employee.address,{coordinates:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-address_city",label:"City",name:"employee-address_city",autoComplete:"employee-address_city",autoFocus:!0,error:""!==q.employee.address.city,helperText:q.employee.address.city,value:S.employee.address.city,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{address:Object(D.a)({},S.employee.address,{city:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"employee-address_state-label"},"State"),o.a.createElement(le.a,{labelId:"employee-address_state-label",id:"employee-address_state-Select",value:S.employee.address.state,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{address:Object(D.a)({},S.employee.address,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"employee-state-".concat(t),value:e},e)}))))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Driver License"),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"employee-driverLicense_card",label:"Driver License Number",name:"employee-driverLicense_card",autoComplete:"employee-driverLicense_card",autoFocus:!0,error:""!==q.employee.driverLicense.card,helperText:q.employee.driverLicense.card,value:S.employee.driverLicense.card,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{driverLicense:Object(D.a)({},S.employee.driverLicense,{card:e.target.value})})}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"month",id:"employee-driverLicense_expiry",label:"Expiry Date",name:"employee-driverLicense_expiry",autoComplete:"employee-driverLicense_expiry",autoFocus:!0,error:""!==q.employee.driverLicense.expiry,helperText:q.employee.driverLicense.expiry,value:S.employee.driverLicense.expiry,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{driverLicense:Object(D.a)({},S.employee.driverLicense,{expiry:e.target.value})})}))}}),M.states&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"employee-driverLicense_state-label"},"State"),o.a.createElement(le.a,{labelId:"employee-driverLicense_state-label",id:"employee-driverLicense_state-Select",value:S.employee.driverLicense.state,onChange:function(e){I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{driverLicense:Object(D.a)({},S.employee.driverLicense,{state:e.target.value})})}))},className:t.selectEmpty},M.states.map((function(e,t){return console.log("state",e,t),o.a.createElement(g.a,{key:"driverLicense-state-".concat(t),value:e},e)})))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Scan ( Scan of Front and Back side of Driver License in a single File )"),S.employee.driverLicense.scanLink&&!S.employee.driverLicenseScan&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:S.employee.driverLicense.scanLink},"Scan")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, application/pdf",id:"employee-driverLicenseScan",type:"file",name:"employee-driverLicenseScan",onChange:function(e){console.log("employee-driverLicenseScan",e.target.files),I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{driverLicenseScan:e.target.files[0]})}))}}))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photo"),S.employee.photoLink&&!S.employee.photo&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:S.employee.photoLink},"Photo")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"employee-photo",type:"file",name:"employee-photo",onChange:function(e){console.log("employee-photo",e.target.files),I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{photo:e.target.files[0]})}))}})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Additional Document"),S.employee.additionalDocumentLink&&!S.employee.additionalDocument&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement("a",{href:S.employee.additionalDocumentLink},"Additional Document")),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, application/pdf",id:"employee-additionalDocument",type:"file",name:"employee-additionalDocument",onChange:function(e){console.log("employee-additionalDocument",e.target.files),I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{additionalDocument:e.target.files[0]})}))}})),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:S.employee.isDeleted,name:"employee-isDeleted",onChange:function(e){console.log("onChange isDeleted",e),I(Object(D.a)({},S,{employee:Object(D.a)({},S.employee,{isDeleted:!S.employee.isDeleted})}))}}),label:"Delete Employee?"})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return V.apply(this,arguments)}},"Save"))))}var At=M.apiUrl,Rt="".concat(At,"/licensee/employee/invite"),Pt=Object(j.a)((function(e){return{root:{width:"100%"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ft(e){var t=Pt(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=localStorage.getItem("aclSettingsLicensee");r=JSON.parse(r),console.log("aclSettingsLicensee",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.e)();console.log("history",l);var d=Object(s.g)().licenseeId;console.log("licenseeId",d);var m=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.ADMINEMPLOYEE.includes("ADD")||l.replace(m);localStorage.getItem("token");var f=Object(n.useState)(""),b=Object(p.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)({}),O=Object(p.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)({}),I=Object(p.a)(S,2),w=I[0],T=I[1],k=Object(n.useState)(!1),N=Object(p.a)(k,2),x=(N[0],N[1],Object(n.useState)("")),A=Object(p.a)(x,2),R=A[0],P=A[1],F=Object(n.useState)(""),W=Object(p.a)(F,2),q=W[0],V=W[1];return console.log("aclSettingsLicensee",r),Object(n.useEffect)((function(){C(Object(D.a)({},r));var e=Object.keys(r),t={};e.forEach((function(e){t[e]=[]})),T(Object(D.a)({},t))}),[]),o.a.createElement(u.a,{component:"main",maxWidth:"xs"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Invite Employee"),""!==R&&o.a.createElement(v.a,{component:"h6",variant:"h5"},R),""!==q&&o.a.createElement(v.a,{component:"h6",variant:"h5"},q),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:g,onChange:function(e){h(e.target.value)}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Employee Privileges"),j&&Object.keys(j).map((function(e){return console.log("aclType",e,w),o.a.createElement(n.Fragment,{key:e},o.a.createElement(v.a,{variant:"subtitle2"},e.toUpperCase()),o.a.createElement(n.Fragment,null,w&&w[e]&&j[e]&&j[e].map((function(t,a){return console.log(e,"setting",t),o.a.createElement(de.a,{key:a,control:o.a.createElement(me.a,{checked:w[e].includes(t),name:t,onChange:function(a){console.log("onChange",a),function(e,t,a){console.log("handleACLChange",t,a),console.log("acList",w[e].length);var n=w[e].includes(t),o=[];if(console.log("isACPPresent",n),a&&!n&&((o=Object(D.a)({},w))[e]=[].concat(Object(L.a)(o[e]),[t]),T(o)),!a&&n){var r=w[e].filter((function(e){return e!==t}));(o=Object(D.a)({},w))[e]=r,T(o)}console.log("newAcl",o[e].length)}(e,t,a.target.checked)}}),label:t})}))))}))),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault();var t={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({email:g,acl:w})};fetch(Rt,t).then((function(e){return e.json()})).then((function(e){console.log(e),V(""),P("Successfully invited Employee"),l.push("/adminpanel/")})).catch((function(e){console.log("Employee Invite Error",e),V("Error occured while inviting Employee"),P("")}))}},"Invite Employee"))))}var Wt=M.apiUrl,qt="".concat(Wt,"/licensee/employee/invite/accept"),_t=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Vt=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})");function Mt(e){console.log("EmployeeInviteAccept",e);var t=_t(),a=new URLSearchParams(Object(s.f)().search).get("token");console.log("Params",a);var r=Object(s.e)();console.log("history",r);var i=Object(n.useState)(""),l=Object(p.a)(i,2),d=l[0],m=l[1],f=Object(n.useState)(""),b=Object(p.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)(""),O=Object(p.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)(""),I=Object(p.a)(S,2),w=I[0],T=I[1],k=Object(n.useState)(!1),N=Object(p.a)(k,2),x=(N[0],N[1],Object(n.useState)("")),L=Object(p.a)(x,2),A=L[0],R=L[1],P=Object(n.useState)(""),F=Object(p.a)(P,2),W=F[0],q=F[1],V=Object(n.useState)({mobile:!1,name:!1,password:!1,repassword:!1}),M=Object(p.a)(V,2),H=M[0],U=M[1],Y=Object(n.useState)({mobile:"",name:"",password:"",repassword:""}),B=Object(p.a)(Y,2),J=B[0],z=B[1];function Q(e,t){var a="Password should be 8 or more characters long. Password should contain one Uppercase Alphabetical Character, one Lowercase Alphabetical Character, one Numeric Character and one Special Character.",n=e===t,o=Vt.test(e),r=Vt.test(t);console.log("doPasswordsMatch",n,"isPasswordsValid",o,"isRePasswordValid",r);var i="";n||(i+="".concat("Passwords don't match"," ")),o||(i+="".concat(a," "));var l=Object(D.a)({},H),c=Object(D.a)({},J);n&&o?(l=Object(D.a)({},l,{password:!1}),U(l),c=Object(D.a)({},c,{password:""}),z(c)):(l=Object(D.a)({},l,{password:!0}),U(l),c=Object(D.a)({},c,{password:i}),z(c));var s="";n||(s+="".concat("Passwords don't match"," ")),r||(s+="".concat(a," ")),n&&o?(l=Object(D.a)({},l,{repassword:!1}),U(l),c=Object(D.a)({},c,{repassword:""}),z(c)):(l=Object(D.a)({},l,{repassword:!0}),U(l),c=Object(D.a)({},c,{repassword:s}),z(c))}function G(){return(G=Object(ee.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(H.mobile||H.name||H.password)){e.next=4;break}return e.abrupt("return",!1);case 4:n={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({token:a,mobile:d,password:g,name:w})},console.log("requestOptions",n),fetch(qt,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(qt," Response"),e),q(""),R("Successfully saved Employee data"),m(""),T(""),h(""),C(""),setTimeout((function(){R(""),r.push("/adminpanel/")}),5e3)})).catch((function(e){console.log("".concat(qt," Error"),e),q("Error occurred while saving Employee data")}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Accept Employee Invite"),""!==A&&o.a.createElement(v.a,{component:"h6",variant:"h5"},A),""!==W&&o.a.createElement(v.a,{component:"h6",variant:"h5"},W),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"mobile",label:"Mobile",name:"mobile",autoComplete:"mobile",autoFocus:!0,error:H.mobile,helperText:J.mobile,value:d,onChange:function(e){m(e.target.value)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:H.name,helperText:J.name,value:w,onChange:function(e){T(e.target.value)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:g,error:H.password,helperText:J.password,onChange:function(e){h(e.target.value),Q(e.target.value,j)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repassword",label:"Confirm Password",type:"password",id:"repassword",autoComplete:"confirm-password",error:H.repassword,helperText:J.repassword,value:j,onChange:function(e){C(e.target.value),Q(g,e.target.value)}}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return G.apply(this,arguments)}},"Accept"))))}var Ht=M.apiUrl,Ut="".concat(Ht,"/admin/licensee/employees"),Yt="".concat(Ht,"/admin/employee/generateotp"),Bt="".concat(Ht,"/admin/employee/verifyotp"),Jt="".concat(Ht,"/admin/employee/resendinvite"),zt="".concat(Ht,"/admin/employee/forgotpassword"),Qt=("".concat(Ht,"/admin/employee/resetpassword"),"".concat(Ht,"/admin/employee/delete")),Gt=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Kt(e){return console.log("TableActionButton",e),o.a.createElement("span",null,e.title)}var Zt=function(e){console.log("EmployeeList called");var t=Gt(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().licenseeId;console.log("licenseeId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.LICENSEEEMPLOYEE.includes("VIEW")||r.replace(d);var m=Object(n.useState)([]),u=Object(p.a)(m,2),f=(u[0],u[1]),b=Object(n.useState)(0),g=Object(p.a)(b,2),h=(g[0],g[1]),y=Object(n.useState)(!1),v=Object(p.a)(y,2),O=v[0],j=v[1],C=Object(n.useState)(""),S=Object(p.a)(C,2),I=S[0],w=S[1],T=Object(n.useState)(""),k=Object(p.a)(T,2),N=k[0],x=k[1],A=Object(n.useState)(""),H=Object(p.a)(A,2),U=H[0],Y=H[1];function B(){j(!1)}var J=o.a.createRef();return o.a.createElement("div",{className:"t2y-list t2y-employeelist ".concat(t.root)},o.a.createElement(P.a,{open:O,onClose:B,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(F.a,{id:"form-dialog-title"},"OTP Verification"),o.a.createElement(W.a,null,o.a.createElement(q.a,null,"Please Enter OTP"),""!==N&&o.a.createElement(q.a,null,N),o.a.createElement(_.a,{autoFocus:!0,fullWidth:!0,margin:"dense",id:"name",label:"OTP",type:"otp",value:I,onChange:function(e){w(e.target.value)}})),o.a.createElement(V.a,null,o.a.createElement(E.a,{onClick:B,color:"primary"},"Cancel"),o.a.createElement(E.a,{onClick:function(){var e={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({mobile:U,country:M.country,otp:I})};console.log("requestOptions",e),fetch(Bt,e).then((function(e){return e.json()})).then((function(e){console.log("".concat(Bt," Response"),e),J.current&&J.current.onQueryChange(),x("OTP Verified Successfully"),Y(""),setTimeout((function(){B()}),5e3)})).catch((function(e){console.log("".concat(Bt," Error"),e)}))},color:"primary"},"Verify"))),o.a.createElement(R.a,{title:"Employees",tableRef:J,columns:[{title:"ID",field:"employeeRef",render:function(e){return e.employeeRef}},{title:"Name",field:"name",render:function(e){return e.name&&e.name?"".concat(e.name):e.name}},{title:"Email",field:"email",render:function(e){return e.email}},{title:"Email Verified",field:"isEmailVerified",render:function(e){return e.isEmailVerified?"Yes":"No"}},{title:"Mobile",field:"mobile",render:function(e){return e.mobile}},{title:"Mobile Verified",field:"isMobileVerified",render:function(e){return e.isMobileVerified?"Yes":"No"}},{title:"Is Owner",field:"isOwner",render:function(e){return e.isOwner?"Yes":"No"}},{title:"Driver License",field:"driverLicense",render:function(e){return o.a.createElement("div",null,e.driverLicense?o.a.createElement("div",null,e.driverLicense.card?o.a.createElement("div",null,o.a.createElement("b",null,"Card")," : ",e.driverLicense.card):o.a.createElement("div",null,o.a.createElement("b",null,"Card")," : Not Available"),e.driverLicense.expiry?o.a.createElement("div",null,o.a.createElement("b",null,"Expiry")," : ",e.driverLicense.expiry):o.a.createElement("div",null,o.a.createElement("b",null,"Expiry")," : Not Available"),e.driverLicense.state?o.a.createElement("div",null,o.a.createElement("b",null,"State")," : ",e.driverLicense.state):o.a.createElement("div",null,o.a.createElement("b",null,"State")," : Not Available"),e.driverLicense.scan?o.a.createElement("div",null,o.a.createElement("b",null,"Scan")," :",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.driverLicense.scan},"Download")):o.a.createElement("div",null,o.a.createElement("b",null,"Scan")," : Not Available")):o.a.createElement("div",null,"Data Not available"))}}],data:function(e){console.log("Employee MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(Ut,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(Ut," Response"),t);var n=t.employeeList||[],o=t.totalCount?t.totalCount:0,r=[];f((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),h(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("getEmployees Error",e),o(e)}))}))},actions:[{icon:function(){return o.a.createElement(Kt,{title:"Resend OTP"})},tooltip:"Resend OTP",onClick:function(e,t){console.log("Resend OTP onClick",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({employeeId:t._id,mobile:t.mobile,country:M.country})};console.log("requestOptions",a),fetch(Yt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Yt," Response"),e),J.current&&J.current.onQueryChange(),Y(t.mobile),j(!0)})).catch((function(e){console.log("".concat(Yt," Error"),e)}))}},{icon:function(){return o.a.createElement(Kt,{title:"Verify Email"})},tooltip:"Verify Email",onClick:function(e,t){console.log("Verify Email",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({employeeId:t._id,email:t.email})};console.log("requestOptions",a),fetch(Jt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Jt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(Jt," Error"),e)}))}},{icon:function(){return o.a.createElement(Kt,{title:"Send Reset Password Link"})},tooltip:"Send Reset Password Link",onClick:function(e,t){console.log("Forgot Password",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({employeeId:t._id,email:t.email})};console.log("requestOptions",a),fetch(zt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(zt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(zt," Error"),e)}))}},{icon:function(){return o.a.createElement(Kt,{title:"Resend Invite"})},tooltip:"Resend Invite",onClick:function(e,t){if(t.acceptedInvite)console.log("Resend Invite",t.acceptedInvite);else{console.log("Resend Invite",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({employeeId:t._id,email:t.email})};console.log("requestOptions",a),fetch(Jt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Jt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(Jt," Error"),e)}))}}},{icon:"create",tooltip:"Edit Employee",onClick:function(e,t){console.log("Edit onClick",e,t),r.push("/adminpanel/licensee/".concat(l,"/employee/edit/").concat(t._id))}},{icon:"delete",tooltip:"Delete Employee",onClick:function(e,t){console.log("Delete Employee",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({employeeId:t._id})};console.log("requestOptions",a),fetch(Qt,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Qt," Response"),e),J.current&&J.current.onQueryChange()})).catch((function(e){console.log("".concat(Qt," Error"),e)}))}},{icon:"add_circle",tooltip:"Invite Licensee Employee",isFreeAction:!0,onClick:function(e,t){console.log("Invite Licensee Employee onClick",e,t),r.push("/adminpanel/licensee/".concat(l,"/employee/invite"))}}],options:{actionsColumnIndex:-1}}))},$t=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Xt=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),ea=M.apiUrl,ta="".concat(ea,"/licensee/employee/resetpassword");function aa(e){console.log("EmployeeInviteAccept",e);var t=$t(),a=new URLSearchParams(Object(s.f)().search).get("token");console.log("Params",a);var r=Object(n.useState)(""),i=Object(p.a)(r,2),l=i[0],d=i[1],m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],g=f[1],h=Object(n.useState)(!1),y=Object(p.a)(h,2),O=(y[0],y[1],Object(n.useState)("")),j=Object(p.a)(O,2),C=j[0],S=j[1],I=Object(n.useState)(""),w=Object(p.a)(I,2),T=w[0],k=w[1],N=Object(n.useState)({password:!1,repassword:!1}),x=Object(p.a)(N,2),L=x[0],A=x[1],R=Object(n.useState)({password:"",repassword:""}),P=Object(p.a)(R,2),F=P[0],W=P[1];function q(e,t){var a="Password should be 8 or more characters long. Password should contain one Uppercase Alphabetical Character, one Lowercase Alphabetical Character, one Numeric Character and one Special Character.",n=e===t,o=Xt.test(e),r=Xt.test(t);console.log("doPasswordsMatch",n,"isPasswordsValid",o,"isRePasswordValid",r);var i="";n||(i+="".concat("Passwords don't match"," ")),o||(i+="".concat(a," "));var l=Object(D.a)({},L),c=Object(D.a)({},F);n&&o?(l=Object(D.a)({},l,{password:!1}),A(l),c=Object(D.a)({},c,{password:""}),W(c)):(l=Object(D.a)({},l,{password:!0}),A(l),c=Object(D.a)({},c,{password:i}),W(c));var s="";n||(s+="".concat("Passwords don't match"," ")),r||(s+="".concat(a," ")),n&&o?(l=Object(D.a)({},l,{repassword:!1}),A(l),c=Object(D.a)({},c,{repassword:""}),W(c)):(l=Object(D.a)({},l,{repassword:!0}),A(l),c=Object(D.a)({},c,{repassword:s}),W(c))}function V(){return(V=Object(ee.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!L.password){e.next=4;break}return e.abrupt("return",!1);case 4:n={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({token:a,password:l})},console.log("requestOptions",n),fetch(ta,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(ta," Response"),e),k(""),S("Successfully saved Password"),d(""),g(""),setTimeout((function(){S("")}),5e3)})).catch((function(e){console.log("".concat(ta," Error"),e),k("Error occurred while saving Password")}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},"Reset Password"),""!==C&&o.a.createElement(v.a,{component:"h6",variant:"h5"},C),""!==T&&o.a.createElement(v.a,{component:"h6",variant:"h5"},T),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l,error:L.password,helperText:F.password,onChange:function(e){d(e.target.value),q(e.target.value,b)}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repassword",label:"Confirm Password",type:"password",id:"repassword",autoComplete:"confirm-password",error:L.repassword,helperText:F.repassword,value:b,onChange:function(e){g(e.target.value),q(l,e.target.value)}}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return V.apply(this,arguments)}},"Save Password"))))}var na=a(498),oa=a(507),ra=a(150),ia=a(338),la=a(335),ca=a(320),sa=a(316),da=a(319),ma=M.apiUrl,ua="".concat(ma,"/admin/trailers"),pa="".concat(ma,"/admin/licensee/trailer"),fa="".concat(ma,"/admin/licensee/trailer"),ba=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}}));function ga(e){if(1===e)return"Additional Day";var t=Math.floor(e/36e5);if(t<24)return"".concat(t," Hours");var a=Math.floor(t/24);return"".concat(a," Days")}function ha(e){console.log("TrailerEdit",e);var t=ba(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)(),d=l.licenseeId,m=l.trailerId;console.log("licenseeId",d,"trailerId",m);var f=(i.state||{from:{pathname:"/adminpanel/"}}).from;m||a.acl.TRAILER.includes("ADD")||r.replace(f),m&&!a.acl.TRAILER.includes("UPDATE")&&r.replace(f);var b=localStorage.getItem("rentalitemtypes");b=JSON.parse(b),console.log("rentalItemTypesList",b);b.filter((function(e){return"trailer"===e.itemtype}));var h={name:"",type:"",description:"",size:"",capacity:"",tare:"",features:[],rentalCharges:[],dlrCharges:0,isFeatured:!1,photosLinks:[],photos:null,adminRentalItemId:"",availability:!1,vin:"",age:0},y=Object(n.useState)(0),O=Object(p.a)(y,2),j=O[0],C=(O[1],Object(n.useState)([])),S=Object(p.a)(C,2),I=S[0],w=S[1],T=Object(n.useState)(h),k=Object(p.a)(T,2),N=k[0],x=k[1],A=Object(n.useState)(""),R=Object(p.a)(A,2),P=R[0],F=R[1],W=Object(n.useState)(""),q=Object(p.a)(W,2),V=q[0],M=q[1];Object(n.useEffect)((function(){var e={method:"GET",headers:c()};fetch("".concat(ua),e).then((function(e){return e.json()})).then((function(e){var t=e.trailersList,a=t[0];h.adminRentalItemId=a._id,w([].concat(Object(L.a)(I),Object(L.a)(t))),console.log("adminTrailers",t,"trailerStart.adminRentalItemId",h.adminRentalItemId),x(Object(D.a)({},N,{adminRentalItemId:a._id,name:a.name,type:a.type,description:a.description,size:a.size,capacity:a.capacity,tare:a.tare,features:a.features,rentalCharges:a.rentalCharges,dlrCharges:a.dlrCharges,isFeatured:a.isFeatured}))})).catch((function(e){console.log("Error occurred while fetching Trailer data",e)})),m&&fetch("".concat(pa,"?id=").concat(m),e).then((function(e){return e.json()})).then((function(e){var t=e.trailerObj;x(Object(D.a)({},N,{name:t.name,type:t.type,description:t.description,size:t.size,capacity:t.capacity,tare:t.tare,features:t.features,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,photosLinks:t.photos,photos:null,adminRentalItemId:t.adminRentalItemId,availability:!!t.availability&&t.availability,vin:t.vin?t.vin:"",age:t.age?t.age:0}))})).catch((function(e){console.log("Error occurred while fetching Trailer data",e)}))}),[j]);var H=Object(n.useState)({name:!1,type:!1,description:!1,size:!1,capacity:!1,tare:!1,features:!1,rentalCharges:!1,dlrCharges:!1,isFeatured:!1,photos:!1,adminRentalItemId:!1,availability:!1,vin:!1,age:!1}),U=Object(p.a)(H,2),Y=U[0],B=(U[1],Object(n.useState)({name:"",type:"",description:"",size:"",capacity:"",tare:"",features:"",rentalCharges:"",dlrCharges:"",isFeatured:"",photos:"",adminRentalItemId:"",availability:"",vin:"",age:""})),J=Object(p.a)(B,2),z=J[0];J[1];function Q(){return(Q=Object(ee.a)(X.a.mark((function e(t){var a,n,o,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(Y.name||Y.type||Y.description||Y.size||Y.capacity||Y.tare||Y.features||Y.rentalCharges||Y.dlrCharges||Y.isFeatured||Y.photos||Y.adminRentalItemId||Y.availability||Y.vin||Y.age)){e.next=4;break}return e.abrupt("return",!1);case 4:if(a={method:"POST"},N.photos){if((n=new FormData).append("name",N.name),n.append("type",N.type),n.append("description",N.description),n.append("size",N.size),n.append("capacity",N.capacity),n.append("tare",N.capacity),n.append("features",N.features),n.append("adminRentalItemId",N.adminRentalItemId),n.append("availability",N.availability),n.append("vin",N.vin),n.append("age",N.age),n.append("licenseeId",d),N.photos&&N.photos.length>0)for(o=0;o<N.photos.length;o++)n.append("photos",N.photos[o],N.photos[o].name);m&&n.append("_id",m),console.log("formData",n),a.headers=Object(D.a)({},c()),a.body=n}else r={name:N.name,type:N.type,description:N.description,size:N.size,capacity:N.capacity,tare:N.tare,features:N.features,adminRentalItemId:N.adminRentalItemId,availability:N.availability,vin:N.vin,age:N.age,licenseeId:d},m&&(r._id=m),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(r);console.log("requestOptions",a),fetch(fa,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(fa," Response"),e);var t=e.trailerObj;x(Object(D.a)({},N,{name:t.name,type:t.type,description:t.description,size:t.size,capacity:t.capacity,tare:t.tare,features:t.features,adminRentalItemId:!!t.adminRentalItemId&&t.adminRentalItemId,availability:!!t.availability&&t.availability,vin:t.vin,age:t.age,photosLinks:t.photos})),M(""),F("Successfully saved Trailer data"),setTimeout((function(){F("")}),5e3)})).catch((function(e){console.log("".concat(fa," Error"),e),M("Error occurred while saving Trailer data")}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},m?"Edit Trailer":"Add Trailer"),""!==P&&o.a.createElement(v.a,{component:"h6",variant:"h5"},P),""!==V&&o.a.createElement(v.a,{component:"h6",variant:"h5"},V),o.a.createElement("form",{className:t.form,encType:"multipart/form-data",noValidate:!0},I&&N.adminRentalItemId&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0,fullWidth:!0,className:"SectionContainer"},o.a.createElement(ie.a,{id:"adminRentalItemId-label"},"Select Trailer Type"),o.a.createElement(le.a,{labelId:"adminRentalItemId-label",id:"adminRentalItemId-Select",value:N.adminRentalItemId,onChange:function(e){var t=I.find((function(t){return e.target.value===t._id}));x(Object(D.a)({},N,{adminRentalItemId:t._id,name:t.name,type:t.type,description:t.description,size:t.size,capacity:t.capacity,tare:t.tare,features:t.features,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:t.isFeatured}))},className:t.selectEmpty},I.map((function(e,t){return console.log("adminTrailer",e._id,e.name),o.a.createElement(g.a,{key:"type-".concat(e._id),value:e._id},e.name)}))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"vin",label:"VIN",name:"vin",autoComplete:"vin",autoFocus:!0,error:Y.vin,helperText:z.vin,value:N.vin,onChange:function(e){x(Object(D.a)({},N,{vin:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"age",label:"Age",name:"age",autoComplete:"age",autoFocus:!0,error:Y.age,helperText:z.age,value:N.age,onChange:function(e){x(Object(D.a)({},N,{age:parseInt(e.target.value)}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:Y.name,helperText:z.name,value:N.name,onChange:function(e){x(Object(D.a)({},N,{name:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"type",label:"Type",name:"type",autoComplete:"type",autoFocus:!0,error:Y.type,helperText:z.type,value:N.type,onChange:function(e){x(Object(D.a)({},N,{type:e.target.value}))}}),o.a.createElement(_.a,{"aria-label":"description",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,multiline:!0,error:Y.description,helperText:z.description,value:N.description,onChange:function(e){x(Object(D.a)({},N,{description:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"size",label:"Size",name:"size",autoComplete:"size",autoFocus:!0,error:Y.size,helperText:z.size,value:N.size,onChange:function(e){x(Object(D.a)({},N,{size:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"capacity",label:"Capacity",name:"capacity",autoComplete:"capacity",autoFocus:!0,error:Y.capacity,helperText:z.capacity,value:N.capacity,onChange:function(e){x(Object(D.a)({},N,{capacity:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"tare",label:"Tare",name:"tare",autoComplete:"tare",autoFocus:!0,error:Y.tare,helperText:z.tare,value:N.tare,onChange:function(e){x(Object(D.a)({},N,{tare:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(na.a,{container:!0,spacing:0},o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle1"},"Features")),o.a.createElement(na.a,{item:!0,sm:6,className:"TextAlignRight"},o.a.createElement(E.a,{type:"button",variant:"contained",color:"primary",className:t.submit,onClick:function(e){var t=Object(L.a)(N.features);t.push(""),x(Object(D.a)({},N,{features:t}))}},"Add"))),N.features.map((function(e,t){return o.a.createElement(_.a,{key:t,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Feature",name:"feature",autoComplete:"feature",autoFocus:!0,error:Y.features,helperText:z.features,value:e,onChange:function(e){var a=Object(L.a)(N.features);a[t]=e.target.value,x(Object(D.a)({},N,{features:a}))}})}))),N.rentalCharges&&o.a.createElement(na.a,{container:!0,spacing:0,className:"SectionContainer"},o.a.createElement(na.a,{item:!0,sm:12},o.a.createElement(v.a,{variant:"subtitle1"},"Rental Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Pickup Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Door2Door Charges")),o.a.createElement(na.a,{item:!0,sm:6},N.rentalCharges.pickUp&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,N.rentalCharges.pickUp.map((function(e,t){return o.a.createElement(ca.a,{key:"pickup-".concat(t)},o.a.createElement(sa.a,null,ga(e.duration)),o.a.createElement(sa.a,null,e.charges))})))))),o.a.createElement(na.a,{item:!0,sm:6},N.rentalCharges&&N.rentalCharges.door2Door&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,N.rentalCharges.door2Door.map((function(e,t){return o.a.createElement(ca.a,{key:"door2door-".concat(t)},o.a.createElement(sa.a,null,ga(e.duration)),o.a.createElement(sa.a,null,e.charges))}))))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"dlrCharges",label:"Damage Liability Reduction Charges",name:"dlrCharges",autoComplete:"dlrCharges",autoFocus:!0,error:Y.dlrCharges,helperText:z.dlrCharges,value:N.dlrCharges,onChange:function(e){x(Object(D.a)({},N,{dlrCharges:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:N.isFeatured,name:"isFeatured",onChange:function(e){console.log("onChange isFeatured",e),x(Object(D.a)({},N,{isFeatured:!N.isFeatured}))}}),label:"Is Featured Trailer Type?"}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:N.availability,name:"availability",onChange:function(e){console.log("onChange availability",typeof e.target.value,e.target.value),console.log("trailer.availability",typeof N.availability),x(Object(D.a)({},N,{availability:!N.availability}))}}),label:"Set as availability to be Rented?"})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photos"),!N.photos&&o.a.createElement(oe.a,{className:"SectionContainer"},N.photosLinks.map((function(e,t){return o.a.createElement("div",{key:N._id+"_photo"+t},o.a.createElement("a",{href:e},"Photo ",t+1))}))),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"raised-button-file",multiple:!0,type:"file",name:"photos",onChange:function(e){console.log(e.target.files),x(Object(D.a)({},N,{photos:e.target.files}))}})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return Q.apply(this,arguments)}},"Update"))))}var ya=M.apiUrl,va="".concat(ya,"/admin/licensee/trailers"),Ea="".concat(ya,"/admin/licensee/trailer/availability"),Oa=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ja(e){return console.log("TableActionButton",e),o.a.createElement("span",null,e.title)}var Ca=function(e){var t=Oa(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var n=Object(s.e)();console.log("history",n);var r=Object(s.f)();console.log("location",r);var i=Object(s.g)().licenseeId;console.log("licenseeId",i);var l=(r.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.TRAILER.includes("VIEW")||n.replace(l);var d=o.a.useState([]),m=Object(p.a)(d,2),u=(m[0],m[1]),f=o.a.useState(0),b=Object(p.a)(f,2),g=(b[0],b[1]),h=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Trailer List",tableRef:h,search:!1,columns:[{title:"ID",field:"trailerRef",render:function(e){return e.trailerRef}},{title:"Name",field:"name",render:function(e){return e.name}},{title:"VIN",field:"vin",render:function(e){return e.vin}},{title:"Age",field:"age",render:function(e){return e.age}},{title:"Type",field:"type",render:function(e){return e.type}},{title:"Description",field:"description",render:function(e){return o.a.createElement("div",{style:{}},e.description)}},{title:"Size",field:"size",render:function(e){return e.size}},{title:"Capacity",field:"capacity",render:function(e){return e.capacity}},{title:"Tare",field:"tare",render:function(e){return e.tare}},{title:"Features",field:"features",render:function(e){return e.features}},{title:"Photos",field:"photos",render:function(e){return o.a.createElement("div",null,e.photos.map((function(t,a){return o.a.createElement("div",null,o.a.createElement("a",{key:e._id+"_photo"+a,href:t},"Photo ",a+1))})))}},{title:"Is Available?",field:"availability",render:function(e){return e.availability?"Yes":"No"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(va,"?licenseeId=").concat(i,"&count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(va," Response"),t);var n=t.trailersList||[],o=t.totalCount?t.totalCount:0,r=[];u((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),g(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(va," Error"),e),o(e)}))}))},actions:[function(e){return{icon:function(){return o.a.createElement(ja,{title:e.availability?"Set as Unavailable":"Set as Available"})},tooltip:e.availability?"Set as Unavailable":"Set as Available",onClick:function(e,t){console.log("Set as Unavailable",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({trailerId:t._id,availability:!t.availability})};console.log("requestOptions",a),fetch(Ea,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Ea," Response"),e),h.current&&h.current.onQueryChange()})).catch((function(e){console.log("".concat(Ea," Error"),e)}))}}},{icon:"create",tooltip:"Edit Trailer",onClick:function(e,t){console.log("Edit onClick",e,t),n.push("/adminpanel/licensee/".concat(i,"/trailer/edit/").concat(t._id))}},{icon:"add_circle",tooltip:"Add Trailer",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),n.push("/adminpanel/licensee/".concat(i,"/trailer/add"))}}],options:{actionsColumnIndex:-1,rowStyle:{height:"100px",maxHeight:"100px",overflow:"scroll"}}}))},Sa=M.apiUrl,Ia="".concat(Sa,"/admin/upsellitems"),wa="".concat(Sa,"/admin/licensee/trailers"),Ta="".concat(Sa,"/admin/licensee/upsellitem"),ka="".concat(Sa,"/admin/licensee/upsellitem"),Na=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}}));function xa(e){if(1===e)return"Additional Day";var t=Math.floor(e/36e5);if(t<24)return"".concat(t," Hours");var a=Math.floor(t/24);return"".concat(a," Days")}function La(e){console.log("UpsellEdit",e);var t=Na(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)(),d=l.licenseeId,m=l.upsellItemId;console.log("upsellItemId",m);var f=(i.state||{from:{pathname:"/adminpanel/"}}).from;m||a.acl.UPSELL.includes("ADD")||r.replace(f),m&&!a.acl.UPSELL.includes("UPDATE")&&r.replace(f);var b=localStorage.getItem("rentalitemtypes");b=JSON.parse(b),console.log("rentalItemTypesList",b);b.filter((function(e){return"upsellitem"===e.itemtype}));var h={name:"",type:"",description:"",rentalCharges:{},dlrCharges:0,isFeatured:!1,photosLinks:[],photos:null,trailerId:"",adminRentalItemId:"",availability:!1,quantity:""},y=Object(n.useState)(0),O=Object(p.a)(y,2),j=O[0],C=(O[1],Object(n.useState)([])),S=Object(p.a)(C,2),I=S[0],w=S[1],T=Object(n.useState)([]),k=Object(p.a)(T,2),N=k[0],x=k[1],A=Object(n.useState)(h),R=Object(p.a)(A,2),P=R[0],F=R[1],W=Object(n.useState)(""),q=Object(p.a)(W,2),V=q[0],M=q[1],H=Object(n.useState)(""),U=Object(p.a)(H,2),Y=U[0],B=U[1];Object(n.useEffect)((function(){var e={method:"GET",headers:c()};fetch("".concat(Ia),e).then((function(e){return e.json()})).then((function(e){var t=e.upsellItemsList,a=t[0];h.adminRentalItemId=a._id,x([].concat(Object(L.a)(N),Object(L.a)(t))),console.log("adminUpsellItems",t,"upsellItemStart.adminRentalItemId",h.adminRentalItemId),F(Object(D.a)({},P,{adminRentalItemId:a._id,name:a.name,type:a.type,description:a.description,rentalCharges:a.rentalCharges,dlrCharges:a.dlrCharges,isFeatured:a.isFeatured}))})).catch((function(e){console.log("Error occurred while fetching Trailer data",e)})),fetch("".concat(wa,"?licenseeId=").concat(d,"&count=0&skip=100"),e).then((function(e){return e.json()})).then((function(e){console.log("".concat(wa," Response"),e);var t=e.trailersList||[];w([].concat(Object(L.a)(I),Object(L.a)(t)))})).catch((function(e){console.log("".concat(wa," Error"),e)})),m&&fetch("".concat(Ta,"?id=").concat(m),e).then((function(e){return e.json()})).then((function(e){var t=e.upsellItemObj;F(Object(D.a)({},P,{name:t.name,type:t.type,description:t.description,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:!!t.isFeatured&&t.isFeatured,availability:!!t.availability&&t.availability,photosLinks:t.photos}))})).catch((function(e){console.log("Error occurred while fetching Upsell Item data",e)}))}),[j]);var J=Object(n.useState)({name:!1,type:!1,description:!1,rentalCharges:!1,dlrCharges:!1,isFeatured:!1,photos:!1,trailerId:!1,adminRentalItemId:!1,availability:!1,quantity:!1}),z=Object(p.a)(J,2),Q=z[0],G=(z[1],Object(n.useState)({name:"",type:"",description:"",rentalCharges:"",dlrCharges:"",isFeatured:"",photos:"",trailerId:"",adminRentalItemId:"",availability:"",quantity:""})),K=Object(p.a)(G,2),Z=K[0];K[1];function $(){return($=Object(ee.a)(X.a.mark((function e(t){var a,n,o,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(Q.name||Q.type||Q.description||Q.rentalCharges||Q.dlrCharges||Q.isFeatured||Q.photos||Q.trailerId||Q.adminRentalItemId||Q.availability||Q.quantity)){e.next=4;break}return e.abrupt("return",!1);case 4:if(a={method:"POST"},P.rates||P.photos){if((n=new FormData).append("name",P.name),n.append("type",P.type),n.append("description",P.description),n.append("adminRentalItemId",P.adminRentalItemId),n.append("trailerId",P.trailerId),n.append("availability",P.availability),n.append("quantity",P.quantity),P.photos&&P.photos.length>0)for(o=0;o<P.photos.length;o++)n.append("photos",P.photos[o],P.photos[o].name);n.append("licenseeId",d),m&&n.append("_id",m),console.log("formData",n),a.headers=Object(D.a)({},c()),a.body=n}else r={name:P.name,type:P.type,description:P.description,adminRentalItemId:P.adminRentalItemId,trailerId:P.trailerId,availability:P.availability,quantity:P.quantity,licenseeId:d},m&&(r._id=m),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(r);console.log("requestOptions",a),fetch(ka,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(ka," Response"),e);var t=e.upsellItemObj;F(Object(D.a)({},P,{name:t.name,type:t.type,description:t.description,photosLinks:t.photos,photos:null,adminRentalItemId:t.adminRentalItemId,trailerId:t.trailerId?t.trailerId:"",availability:!!t.availability&&t.availability,quantity:t.quantity})),B(""),M("Successfully saved Upsell Item data"),setTimeout((function(){M("")}),5e3)})).catch((function(e){console.log("".concat(ka," Error"),e),B("Error occurred while saving Upsell Item data")}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},m?"Edit Upsell Item":"Add Upsell Item"),""!==V&&o.a.createElement(v.a,{component:"h6",variant:"h5"},V),""!==Y&&o.a.createElement(v.a,{component:"h6",variant:"h5"},Y),o.a.createElement("form",{className:t.form,encType:"multipart/form-data",noValidate:!0},N&&P.adminRentalItemId&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0,fullWidth:!0,className:"SectionContainer"},o.a.createElement(ie.a,{id:"adminRentalItemId-label"},"Select Upsell Item Type"),o.a.createElement(le.a,{labelId:"adminRentalItemId-label",id:"adminRentalItemId-Select",value:P.adminRentalItemId,onChange:function(e){var t=N.find((function(t){return e.target.value===t._id}));F(Object(D.a)({},P,{adminRentalItemId:t._id,name:t.name,type:t.type,description:t.description,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:t.isFeatured}))},className:t.selectEmpty},N.map((function(e,t){return console.log("adminUpsellItem",e._id,e.name),o.a.createElement(g.a,{key:"type-".concat(e._id),value:e._id},e.name)}))))),I&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0,fullWidth:!0,className:"SectionContainer"},o.a.createElement(ie.a,{id:"trailerId-label"},"Select TrailerId"),o.a.createElement(le.a,{labelId:"trailerId-label",id:"trailerId-Select",value:P.trailerId,onChange:function(e){F(Object(D.a)({},P,{trailerId:e.target.value}))},className:t.selectEmpty},I.map((function(e,t){return console.log("trailer",e._id,e.name),o.a.createElement(g.a,{key:"type-".concat(e._id),value:e._id},"".concat(e.name," (").concat(e.vin,")"))}))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"quantity",label:"quantity",name:"quantity",autoComplete:"quantity",autoFocus:!0,error:Q.quantity,helperText:Z.quantity,value:P.quantity,onChange:function(e){F(Object(D.a)({},P,{quantity:parseInt(e.target.value)}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:Q.name,helperText:Z.name,value:P.name,onChange:function(e){F(Object(D.a)({},P,{name:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"type",label:"Type",name:"type",autoComplete:"type",autoFocus:!0,error:Q.type,helperText:Z.type,value:P.type,onChange:function(e){F(Object(D.a)({},P,{type:e.target.value}))}}),o.a.createElement(_.a,{"aria-label":"description",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,multiline:!0,error:Q.description,helperText:Z.description,value:P.description,onChange:function(e){F(Object(D.a)({},P,{description:e.target.value}))}}),P.rentalCharges&&o.a.createElement(na.a,{container:!0,spacing:0,className:"SectionContainer"},o.a.createElement(na.a,{item:!0,sm:12},o.a.createElement(v.a,{variant:"subtitle1"},"Rental Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Pickup Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Door2Door Charges")),o.a.createElement(na.a,{item:!0,sm:6},P.rentalCharges.pickUp&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,P.rentalCharges.pickUp.map((function(e,t){return o.a.createElement(ca.a,{key:"pickup-".concat(t)},o.a.createElement(sa.a,null,xa(e.duration)),o.a.createElement(sa.a,null,e.charges))})))))),o.a.createElement(na.a,{item:!0,sm:6},P.rentalCharges&&P.rentalCharges.door2Door&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,P.rentalCharges.door2Door.map((function(e,t){return o.a.createElement(ca.a,{key:"door2door-".concat(t)},o.a.createElement(sa.a,null,xa(e.duration)),o.a.createElement(sa.a,null,e.charges))}))))))),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"dlrCharges",label:"Damage Liability Reduction Charges",name:"dlrCharges",autoComplete:"dlrCharges",autoFocus:!0,error:Q.dlrCharges,helperText:Z.dlrCharges,value:P.dlrCharges,onChange:function(e){F(Object(D.a)({},P,{dlrCharges:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(de.a,{control:o.a.createElement(me.a,{disabled:!0,checked:P.isFeatured,name:"isFeatured",onChange:function(e){console.log("onChange isFeatured",e),F(Object(D.a)({},P,{isFeatured:!P.isFeatured}))}}),label:"Is Featured Upsell Item Type?"}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:P.availability,name:"availability",onChange:function(e){console.log("onChange availability",typeof e.target.value,e.target.value),console.log("upsellItem.availability",typeof P.availability),F(Object(D.a)({},P,{availability:!P.availability}))}}),label:"Set as availability to be Rented?"})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photos"),!P.photos&&o.a.createElement(oe.a,{className:"SectionContainer"},P.photosLinks.map((function(e,t){return o.a.createElement("div",{key:P._id+"_photo"+t},o.a.createElement("a",{href:e},"Photo ",t+1))}))),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, application/pdf",id:"raised-button-file",multiple:!0,type:"file",name:"photos",onChange:function(e){console.log(e.target.files),F(Object(D.a)({},P,{photos:e.target.files}))}})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return $.apply(this,arguments)}},"Update"))))}var Da=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Aa=M.apiUrl,Ra="".concat(Aa,"/admin/licensee/upsellitems"),Pa="".concat(Aa,"/admin/licensee/upsellitem/availability");function Fa(e){return console.log("TableActionButton",e),o.a.createElement("span",null,e.title)}function Wa(e){var t=Da(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var n=Object(s.e)();console.log("history",n);var r=Object(s.f)();console.log("location",r);var i=Object(s.g)().licenseeId;console.log("licenseeId",i);var l=(r.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.UPSELL.includes("VIEW")||n.replace(l);var d=o.a.useState([]),m=Object(p.a)(d,2),u=(m[0],m[1]),f=o.a.useState(0),b=Object(p.a)(f,2),g=(b[0],b[1]),h=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Upsell Items List",tableRef:h,search:!1,columns:[{title:"ID",field:"upsellItemRef",render:function(e){return e.upsellItemRef}},{title:"Name",field:"name",render:function(e){return e.name}},{title:"Type",field:"type",render:function(e){return e.type}},{title:"Description",field:"description",render:function(e){return e.description}},{title:"Photos",field:"photos",render:function(e){return o.a.createElement("div",null,e.photos.map((function(t,a){return o.a.createElement("div",null,o.a.createElement("a",{key:e._id+"_photo"+a,href:t},"Photo ",a+1))})))}},{title:"Quantity",field:"quantity",render:function(e){return e.quantity}},{title:"Is Available?",field:"availability",render:function(e){return e.availability?"true":"false"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(Ra,"?licenseeId=").concat(i,"&count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(Ra," Response"),t);var n=t.upsellItemsList||[],o=t.totalCount?t.totalCount:0,r=[];u((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),g(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(Ra," Error"),e),o(e)}))}))},actions:[function(e){return{icon:function(){return o.a.createElement(Fa,{title:e.availability?"Set as Unavailable":"Set as Available"})},tooltip:e.availability?"Set as Unavailable":"Set as Available",onClick:function(e,t){console.log("Set as Unavailable",e,t);var a={method:"POST",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({upsellItemId:t._id,availability:!t.availability})};console.log("requestOptions",a),fetch(Pa,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Pa," Response"),e),h.current&&h.current.onQueryChange()})).catch((function(e){console.log("".concat(Pa," Error"),e)}))}}},{icon:"create",tooltip:"Edit Upsell Item",onClick:function(e,t){console.log("Edit onClick",e,t),n.push("/adminpanel/licensee/".concat(i,"/upsellitem/edit/").concat(t._id))}},{icon:"add_circle",tooltip:"Add Upsell Item",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),n.push("/adminpanel/licensee/".concat(i,"/upsellitem/add"))}}],options:{actionsColumnIndex:-1}}))}var qa=M.apiUrl,_a="".concat(qa,"/admin/licensee/trailer/block"),Va="".concat(qa,"/admin/licensee/trailers"),Ma="".concat(qa,"/admin/licensee/upsellitems"),Ha=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ua(e){var t;return"trailer"===e.item.itemType?t=e.trailers.find((function(t){return t._id===e.item.itemId})):"upsellitem"===e.item.itemType&&(t=e.upsellItems.find((function(t){return t._id===e.item.itemId}))),t?o.a.createElement("span",null,t.name," (",t.vin,")"):o.a.createElement("span",null,"Rental Item Not found")}function Ya(e){console.log("BlockTrailerList loaded");var t=Ha(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().licenseeId;console.log("licenseeId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.BLOCK.includes("VIEW")||r.replace(d);var m=Object(n.useState)(0),u=Object(p.a)(m,2),f=u[0],b=(u[1],Object(n.useState)([])),g=Object(p.a)(b,2),h=(g[0],g[1]),y=Object(n.useState)(0),v=Object(p.a)(y,2),E=(v[0],v[1]),O=Object(n.useState)([]),j=Object(p.a)(O,2),C=j[0],S=j[1],I=Object(n.useState)([]),w=Object(p.a)(I,2),T=w[0],k=w[1];Object(n.useEffect)((function(){var e={method:"GET",headers:c()};fetch("".concat(Va,"?licenseeId=").concat(l),e).then((function(e){return e.json()})).then((function(e){var t=e.trailersList;S(Object(D.a)({},C,{},t))})).catch((function(e){console.log("Error occurred while fetching Trailers data",e)})),fetch("".concat(Ma,"?licenseeId=").concat(l),e).then((function(e){return e.json()})).then((function(e){var t=e.upsellItemsList;k(Object(D.a)({},T,{},t))})).catch((function(e){console.log("Error occurred while fetching Upsell Items data",e)}))}),[f]);var N=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Blocking Schedule List",tableRef:N,search:!1,columns:[{title:"ID",field:"blockingRef",render:function(e){return e.blockingRef}},{title:"Start Date",field:"startDate",render:function(e){return e.startDate}},{title:"End Date",field:"endDate",render:function(e){return e.endDate}},{title:"isDeleted",field:"isDeleted",render:function(e){return e.isDeleted?"Yes":"No"}},{title:"Items",field:"items",render:function(e){return o.a.createElement("div",null,e.items.map((function(t,a){return o.a.createElement("div",{key:"".concat(e._id,"_").concat(a)},o.a.createElement("div",null,"Type : ",t.itemType),o.a.createElement("div",null,"Details : ",o.a.createElement(Ua,{item:t,trailers:C,upsellItems:T})),o.a.createElement("div",null,"Quantity : ",t.quantity))})))}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(_a,"?licenseeId=").concat(l,"&count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(_a," Response"),t);var n=t.blockingList||[],o=t.totalCount?t.totalCount:0,r=[];h((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),E(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(_a," Error"),e),o(e)}))}))},actions:[{icon:"create",tooltip:"Edit Blocking Schedule",onClick:function(e,t){console.log("Edit onClick",e,t),r.push("/adminpanel/licensee/".concat(l,"/rentalitem/block/edit/").concat(t._id))}},{icon:"add_circle",tooltip:"Add Blocking Schedule",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),r.push("/adminpanel/licensee/".concat(l,"/rentalitem/block/add"))}}],options:{actionsColumnIndex:-1,rowStyle:{height:"100px",maxHeight:"100px",overflow:"scroll"}}}))}var Ba=a(354),Ja=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}})),za=M.apiUrl,Qa="".concat(za,"/admin/licensee/trailers"),Ga="".concat(za,"/admin/licensee/upsellitems"),Ka="".concat(za,"/admin/licensee/trailer/block"),Za="".concat(za,"/admin/licensee/trailer/block");function $a(e){console.log("BlockTrailerEdit");var t=Ja(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)(),d=l.licenseeId,m=l.blockingId;console.log("licenseeId",d,"blockingId",m);var f=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.BLOCK.includes("ADD")&&a.acl.BLOCK.includes("UPDATE")||r.replace(f);var b={startDate:ae()().add(1,"day").format("YYYY-MM-DD"),startTime:ae()().add(1,"day").format("HH:mm"),endDate:ae()().add(2,"day").format("YYYY-MM-DD"),endTime:ae()().add(2,"day").format("HH:mm"),isDeleted:!1,items:[]},h=Object(n.useState)(0),y=Object(p.a)(h,2),O=y[0],j=(y[1],Object(n.useState)([])),C=Object(p.a)(j,2),S=C[0],I=C[1],w=Object(n.useState)([]),T=Object(p.a)(w,2),k=T[0],N=T[1],x=Object(n.useState)(b),A=Object(p.a)(x,2),R=A[0],P=A[1],F=Object(n.useState)(""),W=Object(p.a)(F,2),q=W[0],V=W[1],M=Object(n.useState)(""),H=Object(p.a)(M,2),U=H[0],Y=H[1];Object(n.useEffect)((function(){var e={method:"GET",headers:c()};m&&fetch("".concat(Za,"?id=").concat(m),e).then((function(e){return e.json()})).then((function(e){var t=e.blockingObj;P(Object(D.a)({},R,{},t))})).catch((function(e){console.log("Error occurred while fetching Trailer Blocking data",e)})),fetch("".concat(Qa,"?licenseeId=").concat(d),e).then((function(e){return e.json()})).then((function(e){var t=e.trailersList;I(Object(D.a)({},S,{},t))})).catch((function(e){console.log("Error occurred while fetching Trailers data",e)})),fetch("".concat(Ga,"?licenseeId=").concat(d),e).then((function(e){return e.json()})).then((function(e){var t=e.upsellItemsList;N(Object(D.a)({},k,{},t))})).catch((function(e){console.log("Error occurred while fetching Upsell Items data",e)}))}),[O]);var B=Object(n.useState)({startDate:!1,startTime:!1,endDate:!1,endTime:!1,isDeleted:!1,items:!1}),J=Object(p.a)(B,2),z=J[0],Q=(J[1],Object(n.useState)({startDate:"",starTime:"",endDate:"",endTime:"",isDeleted:"",items:""})),G=Object(p.a)(Q,2),K=G[0];G[1];function Z(){return(Z=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(z.startDate||z.startTime||z.endDate||z.endTime||z.isDeleted||z.items)){e.next=4;break}return e.abrupt("return",!1);case 4:a={method:"POST"},console.log("blockingData.startDate",R.startDate),console.log("blockingData.endDate",R.endDate),n={startDate:ae()("".concat(R.startDate," ").concat(R.startTime)).format("YYYY-MM-DD HH:mm"),endDate:ae()("".concat(R.endDate," ").concat(R.endTime)).format("YYYY-MM-DD HH:mm"),isDeleted:R.isDeleted,items:R.items},m&&(n._id=m),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(n),console.log("requestOptions",a),fetch(Ka,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(Ka," Response"),e);var t=e.blockingObj;Object(Ba.a)("blockingId"),m=t._id,P(Object(D.a)({},R,{startDate:ae()(t.startDate).format("YYYY-MM-DD"),startTime:ae()(t.startDate).format("HH:mm"),endDate:ae()(t.endDate).format("YYYY-MM-DD"),endTime:ae()(t.endDate).format("HH:mm"),isDeleted:t.isDeleted,items:t.items})),Y(""),V("Successfully saved Trailer Blocking data"),setTimeout((function(){V("")}),5e3)})).catch((function(e){console.log("".concat(Ka," Error"),e),Y("Error occurred while saving Trailer Blocking data")}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},m?"Edit Block Trailer Data":"Add Block Trailer Data"),""!==q&&o.a.createElement(v.a,{component:"h6",variant:"h5"},q),""!==U&&o.a.createElement(v.a,{component:"h6",variant:"h5"},U),o.a.createElement("form",{className:t.form,encType:"multipart/form-data",noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"Start Date",required:!0,fullWidth:!0,type:"date",id:"startDate",label:"Start Date",name:"startDate",autoComplete:"startDate",autoFocus:!0,error:""!==K.startDate,helperText:K.startDate,value:R.startDate,onChange:function(e){P(Object(D.a)({},R,{startDate:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"Start Time",required:!0,fullWidth:!0,type:"time",id:"startTime",label:"Start Time",name:"startTime",autoComplete:"startTime",autoFocus:!0,error:""!==K.startTime,helperText:K.startTime,value:R.startTime,onChange:function(e){P(Object(D.a)({},R,{startTime:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"End Date",required:!0,fullWidth:!0,type:"date",id:"endDate",label:"End Date",name:"endDate",autoComplete:"endDate",autoFocus:!0,error:""!==K.endDate,helperText:K.endDate,value:R.endDate,onChange:function(e){P(Object(D.a)({},R,{endDate:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal","aria-label":"End Time",required:!0,fullWidth:!0,type:"time",id:"endTime",label:"End Time",name:"endTime",autoComplete:"endTime",autoFocus:!0,error:""!==K.endTime,helperText:K.endTime,value:R.endTime,onChange:function(e){P(Object(D.a)({},R,{endTime:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:R.isDeleted,name:"isDeleted",onChange:function(e){console.log("onChange isDeleted",e),P(Object(D.a)({},R,{isDeleted:!R.isDeleted}))}}),label:"Is Deleted?"})),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(na.a,{container:!0,spacing:0},o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle1"},"Rental Items")),o.a.createElement(na.a,{item:!0,sm:6,className:"TextAlignRight"},o.a.createElement(E.a,{type:"button",variant:"contained",color:"primary",className:t.submit,onClick:function(e){var t=Object(L.a)(R.items);t.push({itemType:"trailer",itemId:S&&S.length>0?S[0]._id:"",quantity:1}),P(Object(D.a)({},R,{items:t}))}},"Add"))),R.items.map((function(e,a){return o.a.createElement(o.a.Fragment,{key:"rentalitem-".concat(a)},o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"itemType-label"},"Item Type"),o.a.createElement(le.a,{labelId:"itemType-label",id:"itemType-Select",value:e.itemType,onChange:function(e){var t=Object(L.a)(R.items);t[a].itemType=e.target.value,P(Object(D.a)({},R,{items:t}))},className:t.selectEmpty},o.a.createElement(g.a,{value:"trailer"},"Trailer"),o.a.createElement(g.a,{value:"upsellitem"},"Upsell Item"))),"trailer"===e.type&&S&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"itemId-trailer-label"},"Select Trailer"),o.a.createElement(le.a,{labelId:"itemId-trailer-label",id:"itemId-trailer-Select",value:e.itemId,onChange:function(e){var t=Object(L.a)(R.items);t[a].itemId=e.target.value,P(Object(D.a)({},R,{items:t}))},className:t.selectEmpty},S.map((function(e,t){return o.a.createElement(g.a,{key:"type-".concat(e._id),value:e._id},e.name," (",e.vin,")")}))))),"upsellitem"===e.type&&k&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"itemId-upsellitem-label"},"Select Upsell Item"),o.a.createElement(le.a,{labelId:"itemId-upsellitem-label",id:"itemId-upsellitem-Select",value:e.itemId,onChange:function(e){var t=Object(L.a)(R.items);t[a].itemId=e.target.value,P(Object(D.a)({},R,{items:t}))},className:t.selectEmpty},k.map((function(e,t){return o.a.createElement(g.a,{key:"type-".concat(e._id),value:e._id},e.name," (",e.vin,")")}))))),o.a.createElement(_.a,{key:"quantity-".concat(a),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Quantity",name:"quantity",autoComplete:"quantity",autoFocus:!0,error:z.quantity,helperText:K.quantity,value:e.quantity,onChange:function(e){var t=Object(L.a)(R.items);t[a]=e.target.value,P(Object(D.a)({},R,{items:t}))}}))})))),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return Z.apply(this,arguments)}},m?"Save":"Update")))}a(465),a(466);var Xa=M.apiUrl,en="".concat(Xa,"/admin/licensee/insurance"),tn="".concat(Xa,"/admin/licensee/verify/insurance"),an=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var nn=function(e){var t=an(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Trailer Insurance",tableRef:d,columns:[{title:"Licensee Name",field:"licenseeName",render:function(e){return console.log("rowData",e),e.licenseeName}},{title:"Trailer Name",field:"itemName",render:function(e){return e.itemName}},{title:"Insurance Document",field:"insuranceDocument",render:function(e){return o.a.createElement("div",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.document},"Download"))}},{title:"Insurance Document Verified",field:"insuranceDocumentVerified",type:"boolean",render:function(e){return e.verified?"Yes":"No"}},{title:"Insurance Document Accepted",field:"insuranceDocumentAccepted",render:function(e){return e.accepted?"Yes":"No"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(en,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(en," Response"),t);var n=t.insuranceList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(en," Error"),e),o(e)}))}))},actions:[{icon:"check_circle",tooltip:"Approve",onClick:function(e,t){console.log("Approve onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({insuranceId:t._id,isAccepted:!0})};console.log("requestOptions",a),fetch(tn,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(tn," Response"),e),d.current&&d.current.onQueryChange()})).catch((function(e){console.log("".concat(tn," Error"),e)}))}},{icon:"cancel",tooltip:"Reject",onClick:function(e,t){console.log("Reject onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({insuranceId:t._id,isAccepted:!1})};console.log("requestOptions",a),fetch(tn,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(tn," Response"),e),d.current&&d.current.onQueryChange()})).catch((function(e){console.log("".concat(tn," Error"),e)}))}}],options:{actionsColumnIndex:-1}}))},on=M.apiUrl,rn="".concat(on,"/admin/licensee/servicing"),ln="".concat(on,"/admin/licensee/verify/servicing"),cn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var sn=function(e){var t=cn(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Trailer Servicing",tableRef:d,columns:[{title:"Licensee Name",field:"licenseeName",render:function(e){return console.log("rowData",e),e.licenseeName}},{title:"Trailer Name",field:"itemName",render:function(e){return e.itemName}},{title:"Servicing Document",field:"servicingDocument",render:function(e){return o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.document},"Download")}},{title:"Servicing Document Verified",field:"servicingDocumentVerified",type:"boolean",render:function(e){return e.verified?"Yes":"No"}},{title:"Servicing Document Accepted",field:"servicingDocumentAccepted",render:function(e){return e.accepted?"Yes":"No"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(rn,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(rn," Response"),t);var n=t.servicingList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(rn," Error"),e),o(e)}))}))},actions:[{icon:"check_circle",tooltip:"Approve",onClick:function(e,t){console.log("Approve onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({servicingId:t._id,isAccepted:!0})};console.log("requestOptions",a),fetch(ln,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(ln," Response"),e),d.current&&d.current.onQueryChange()})).catch((function(e){console.log("".concat(ln," Error"),e)}))}},{icon:"cancel",tooltip:"Reject",onClick:function(e,t){console.log("Reject onClick",e,t);var a={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify({servicingId:t._id,isAccepted:!1})};console.log("requestOptions",a),fetch(ln,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(ln," Response"),e),d.current&&d.current.onQueryChange()})).catch((function(e){console.log("".concat(ln," Error"),e)}))}}],options:{actionsColumnIndex:-1}}))},dn=M.apiUrl,mn="".concat(dn,"/admin/customer/payments"),un=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var pn=function(e){var t=un(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Payments - Inward (From Customers to T2Y)",tableRef:d,columns:[{title:"Customer Name",field:"customerName",render:function(e){return e.customerName}},{title:"Licensee Name",field:"licenseeName",render:function(e){return e.licenseeName}},{title:"Total Paid",field:"totalPaid",render:function(e){return e.totalPaid?e.totalPaid:0}},{title:"Authorization Transaction ID",field:"transactionIdAuth",render:function(e){return e.transactionIdAuth?e.transactionIdAuth:""}},{title:"Authorization Transaction Date",field:"transactionAuthDate",render:function(e){return e.transactionAuthDate?e.transactionAuthDate:""}},{title:"Transaction Auth Action",field:"authTransactionAction",render:function(e){return e.authTransactionAction?e.authTransactionAction:""}},{title:"Action Transaction ID",field:"transactionIdAction",render:function(e){return e.transactionIdAction?e.transactionIdAction:""}},{title:"Action Transaction Date",field:"transactionActionDate",render:function(e){return e.transactionActionDate?e.transactionActionDate:""}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(mn,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(mn," Response"),t);var n=t.customerPaymentsList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(mn," Error"),e),o(e)}))}))}}))},fn=M.apiUrl,bn="".concat(fn,"/admin/licensee/payouts"),gn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var hn=function(e){var t=gn(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Payments - Outward (From T2Y to Licensee)",tableRef:d,columns:[{title:"Licensee Name",field:"licenseeName",render:function(e){return e.licenseeName}},{title:"Total Paid",field:"totalAmount",render:function(e){return e.totalAmount?e.totalAmount:0}},{title:"Stripe Account ID",field:"stripeAccountId",render:function(e){return e.stripeAccountId?e.stripeAccountId:""}},{title:"Stripe Payout Status",field:"stripePayoutStatus",render:function(e){return e.stripePayoutStatus?e.stripePayoutStatus:""}},{title:"Transaction Auth Action",field:"authTransactionAction",render:function(e){return e.authTransactionAction?e.authTransactionAction:""}},{title:"Payment At",field:"createdAt",render:function(e){return e.createdAt?e.createdAt:""}},{title:"Updated At",field:"updatedAt",render:function(e){return e.updatedAt?e.updatedAt:""}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(bn,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(bn," Response"),t);var n=t.licenseePayoutsList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(bn," Error"),e),o(e)}))}))}}))},yn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}})),vn=M.apiUrl,En=("".concat(vn,"/admin/rentalitemtype"),"".concat(vn,"/admin/rentalitemtype"));function On(e){console.log("rentalItemTypeEdit",e);var t=yn(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().rentalItemId;console.log("rentalItemId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;l||a.acl.TRAILER.includes("ADD")||r.replace(d),l&&!a.acl.TRAILER.includes("UPDATE")&&r.replace(d);var m=Object(n.useState)(0),f=Object(p.a)(m,2),b=(f[0],f[1],Object(n.useState)({name:"",code:"",itemType:""})),h=Object(p.a)(b,2),y=h[0],O=h[1],j=Object(n.useState)(""),C=Object(p.a)(j,2),S=C[0],I=C[1],w=Object(n.useState)(""),T=Object(p.a)(w,2),k=T[0],N=T[1],x=localStorage.getItem("rentalitemtypes");x=JSON.parse(x),console.log("rentalItemTypesList",x),l&&x.forEach((function(e){e._id===l&&O(Object(D.a)({},y,{name:e.name,code:e.code,itemType:e.itemtype}))}));var L=Object(n.useState)({name:!1,code:!1,itemType:!1}),A=Object(p.a)(L,2),R=A[0],P=(A[1],Object(n.useState)({name:"",code:"",itemType:""})),F=Object(p.a)(P,2),W=F[0];F[1];function q(){return(q=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(R.name||R.code||R.itemType)){e.next=4;break}return e.abrupt("return",!1);case 4:a={method:"POST"},n={name:y.name,code:y.code,itemtype:y.itemType},l&&(n._id=l),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(n),console.log("requestOptions",a),fetch(En,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(En," Response"),e),N(""),I("Successfully saved rentalItemType data"),setTimeout((function(){I("")}),5e3)})).catch((function(e){console.log("".concat(En," Error"),e),N("Error occurred while saving Rental Item Type data")}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},l?"Edit Rental Item Type":"Add Rental Item Type"),""!==S&&o.a.createElement(v.a,{component:"h6",variant:"h5"},S),""!==k&&o.a.createElement(v.a,{component:"h6",variant:"h5"},k),o.a.createElement("form",{className:t.form,encType:"multipart/form-data",noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:R.name,helperText:W.name,value:y.name,onChange:function(e){O(Object(D.a)({},y,{name:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"Code",name:"code",autoComplete:"code",autoFocus:!0,disabled:!0,error:R.code,helperText:W.code,value:y.code,onChange:function(e){O(Object(D.a)({},y,{code:e.target.value}))}}),l&&o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"itemType",label:"Item Type",name:"itemType",autoComplete:"itemType",autoFocus:!0,disabled:!0,error:R.itemType,helperText:W.itemType,value:y.itemType,onChange:function(e){O(Object(D.a)({},y,{itemType:e.target.value}))}}),!l&&o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"itemType-label"},"Item Type"),o.a.createElement(le.a,{labelId:"itemType-label",id:"itemTypeSelect",value:y.itemType,onChange:function(e){O(Object(D.a)({},y,{itemType:e.target.value}))},className:t.selectEmpty},o.a.createElement(g.a,{value:"trailer"},"Trailer"),o.a.createElement(g.a,{value:"upsellitem"},"Uspell Item")),o.a.createElement(ce.a,null,"Required")),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return q.apply(this,arguments)}},"Update"))))}var jn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Cn=M.apiUrl,Sn="".concat(Cn,"/admin/rentalitemtypes");function In(e){var t=jn(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=(i.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.TRAILER.includes("VIEW")||r.replace(l);var d=Object(n.useState)([]),m=Object(p.a)(d,2),u=m[0],f=m[1],b=Object(n.useState)(0),g=Object(p.a)(b,2),h=(g[0],g[1]);Object(n.useEffect)((function(){var e={method:"GET",headers:c()};fetch("".concat(Sn),e).then((function(e){return e.json()})).then((function(e){console.log("".concat(Sn," Response"),e);var t=e.rentalItemTypes||[],a=t.length;f(t),h(a),localStorage.setItem("rentalitemtypes",JSON.stringify(t))})).catch((function(e){console.log("".concat(Sn," Error"),e)}))}),0);var y=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Rental Item Types List",tableRef:y,search:!1,columns:[{title:"ID",field:"rentalItemTypeRef",render:function(e){return e.rentalItemTypeRef}},{title:"Name",field:"name",render:function(e){return e.name}},{title:"Code",field:"code",render:function(e){return e.code}},{title:"Item Type",field:"itemtype",render:function(e){return e.itemtype}}],data:u,actions:[{icon:"create",tooltip:"Edit Rental Item",onClick:function(e,t){console.log("Edit onClick",e,t),r.push("/adminpanel/rentalitemtype/edit/".concat(t._id))}},{icon:"add_circle",tooltip:"Add  Rental Item",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),r.push("/adminpanel/rentalitemtype/add")}}],options:{actionsColumnIndex:-1}}))}var wn=M.apiUrl,Tn="".concat(wn,"/admin/trailer"),kn="".concat(wn,"/admin/trailer"),Nn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}}));function xn(e){if(1===e)return"Additional Day";var t=Math.floor(e/36e5);if(t<24)return"".concat(t," Hours");var a=Math.floor(t/24);return"".concat(a," Days")}function Ln(e){console.log("TrailerEdit",e);var t=Nn(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().trailerId;console.log("trailerId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;l||a.acl.TRAILER.includes("ADD")||r.replace(d),l&&!a.acl.TRAILER.includes("UPDATE")&&r.replace(d);var m=localStorage.getItem("rentalitemtypes");m=JSON.parse(m),console.log("rentalItemTypesList",m);var f=m.filter((function(e){return"trailer"===e.itemtype})),b=Object(n.useState)(0),h=Object(p.a)(b,2),y=h[0],O=(h[1],Object(n.useState)({name:"",type:"",description:"",size:"",capacity:"",tare:"",features:[],rentalCharges:[],dlrCharges:0,file:null,isFeatured:!1,availability:!1,photosLinks:[],photos:null})),j=Object(p.a)(O,2),C=j[0],S=j[1],I=Object(n.useState)(""),w=Object(p.a)(I,2),T=w[0],k=w[1],N=Object(n.useState)(""),x=Object(p.a)(N,2),A=x[0],R=x[1];Object(n.useEffect)((function(){var e={method:"GET",headers:c()};fetch("".concat(Tn,"?id=").concat(l),e).then((function(e){return e.json()})).then((function(e){var t=e.trailerObj;S(Object(D.a)({},C,{name:t.name,type:t.type,description:t.description,size:t.size,capacity:t.capacity,tare:t.tare,features:t.features,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:!!t.isFeatured&&t.isFeatured,availability:!!t.availability&&t.availability,photosLinks:t.photos,photos:null,rates:null}))})).catch((function(e){console.log("Error occurred while fetching Trailer data",e)}))}),[y]);var P=Object(n.useState)({name:!1,type:!1,description:!1,size:!1,capacity:!1,tare:!1,features:!1,rentalCharges:!1,dlrCharges:!1,isFeatured:!1,availability:!1,photos:!1}),F=Object(p.a)(P,2),W=F[0],q=(F[1],Object(n.useState)({name:"",type:"",description:"",size:"",capacity:"",tare:"",features:"",rentalCharges:"",dlrCharges:"",isFeatured:"",availability:"",photos:""})),V=Object(p.a)(q,2),M=V[0];V[1];function H(){return(H=Object(ee.a)(X.a.mark((function e(t){var a,n,o,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(W.name||W.type||W.description||W.size||W.capacity||W.tare||W.features||W.rentalCharges||W.dlrCharges||W.isFeatured||W.availability||W.photos)){e.next=4;break}return e.abrupt("return",!1);case 4:if(a={method:"POST"},C.rates||C.photos){if((n=new FormData).append("name",C.name),n.append("type",C.type),n.append("description",C.description),n.append("size",C.size),n.append("capacity",C.capacity),n.append("tare",C.capacity),n.append("features",C.features),n.append("dlrCharges",C.dlrCharges),n.append("availability",C.availability),n.append("isFeatured",C.isFeatured),C.rates?n.append("rates",C.rates,C.rates.name):C.rentalCharges&&n.append("rentalCharges",C.rentalCharges),C.photos&&C.photos.length>0)for(o=0;o<C.photos.length;o++)n.append("photos",C.photos[o],C.photos[o].name);l&&n.append("_id",l),console.log("formData",n),a.headers=Object(D.a)({},c()),a.body=n}else r={name:C.name,type:C.type,description:C.description,size:C.size,capacity:C.capacity,tare:C.tare,features:C.features,rentalCharges:C.rentalCharges,dlrCharges:C.dlrCharges,availability:C.availability,isFeatured:C.isFeatured},l&&(r._id=l),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(r);console.log("requestOptions",a),fetch(kn,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(kn," Response"),e);var t=e.trailerObj;S(Object(D.a)({},C,{name:t.name,type:t.type,description:t.description,size:t.size,capacity:t.capacity,tare:t.tare,features:t.features,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:!!t.isFeatured&&t.isFeatured,availability:!!t.availability&&t.availability,photosLinks:t.photos})),R(""),k("Successfully saved Trailer data"),setTimeout((function(){k("")}),5e3)})).catch((function(e){console.log("".concat(kn," Error"),e),R("Error occurred while saving Trailer data")}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},l?"Edit Trailer":"Add Trailer"),""!==T&&o.a.createElement(v.a,{component:"h6",variant:"h5"},T),""!==A&&o.a.createElement(v.a,{component:"h6",variant:"h5"},A),o.a.createElement("form",{className:t.form,encType:"multipart/form-data",noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:W.name,helperText:M.name,value:C.name,onChange:function(e){S(Object(D.a)({},C,{name:e.target.value}))}}),f&&C.type&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0,className:"SectionContainer"},o.a.createElement(ie.a,{id:"itemType-label"},"Type"),o.a.createElement(le.a,{labelId:"itemType-label",id:"itemTypeSelect",value:C.type,onChange:function(e){S(Object(D.a)({},C,{type:e.target.value}))},className:t.selectEmpty},f.map((function(e,t){return console.log("itemType",e),o.a.createElement(g.a,{key:"type-".concat(e.code),value:e.code},e.name)}))))),o.a.createElement(_.a,{"aria-label":"description",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,multiline:!0,error:W.description,helperText:M.description,value:C.description,onChange:function(e){S(Object(D.a)({},C,{description:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"size",label:"Size",name:"size",autoComplete:"size",autoFocus:!0,error:W.size,helperText:M.size,value:C.size,onChange:function(e){S(Object(D.a)({},C,{size:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"capacity",label:"Capacity",name:"capacity",autoComplete:"capacity",autoFocus:!0,error:W.capacity,helperText:M.capacity,value:C.capacity,onChange:function(e){S(Object(D.a)({},C,{capacity:e.target.value}))}}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"tare",label:"Tare",name:"tare",autoComplete:"tare",autoFocus:!0,error:W.tare,helperText:M.tare,value:C.tare,onChange:function(e){S(Object(D.a)({},C,{tare:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(na.a,{container:!0,spacing:0},o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle1"},"Features")),o.a.createElement(na.a,{item:!0,sm:6,className:"TextAlignRight"},o.a.createElement(E.a,{type:"button",variant:"contained",color:"primary",className:t.submit,onClick:function(e){var t=Object(L.a)(C.features);t.push(""),S(Object(D.a)({},C,{features:t}))}},"Add"))),C.features.map((function(e,t){return o.a.createElement(_.a,{key:t,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Feature",name:"feature",autoComplete:"feature",autoFocus:!0,error:W.features,helperText:M.features,value:e,onChange:function(e){var a=Object(L.a)(C.features);a[t]=e.target.value,S(Object(D.a)({},C,{features:a}))}})}))),C.rentalCharges&&o.a.createElement(na.a,{container:!0,spacing:0,className:"SectionContainer"},o.a.createElement(na.a,{item:!0,sm:12},o.a.createElement(v.a,{variant:"subtitle1"},"Rental Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Pickup Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Door2Door Charges")),o.a.createElement(na.a,{item:!0,sm:6},C.rentalCharges.pickUp&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,C.rentalCharges.pickUp.map((function(e,t){return o.a.createElement(ca.a,{key:"pickup-".concat(t)},o.a.createElement(sa.a,null,xn(e.duration)),o.a.createElement(sa.a,null,e.charges))})))))),o.a.createElement(na.a,{item:!0,sm:6},C.rentalCharges&&C.rentalCharges.door2Door&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,C.rentalCharges.door2Door.map((function(e,t){return o.a.createElement(ca.a,{key:"door2door-".concat(t)},o.a.createElement(sa.a,null,xn(e.duration)),o.a.createElement(sa.a,null,e.charges))}))))))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Upload Rental Charges"),o.a.createElement("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"raised-button-file",multiple:!0,type:"file",name:"rates",onChange:function(e){console.log(e.target.files),S(Object(D.a)({},C,{rates:e.target.files[0]}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"dlrCharges",label:"Damage Liability Reduction Charges",name:"dlrCharges",autoComplete:"dlrCharges",autoFocus:!0,error:W.dlrCharges,helperText:M.dlrCharges,value:C.dlrCharges,onChange:function(e){S(Object(D.a)({},C,{dlrCharges:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:C.isFeatured,name:"isFeatured",onChange:function(e){console.log("onChange isFeatured",e),S(Object(D.a)({},C,{isFeatured:!C.isFeatured}))}}),label:"Is Featured Trailer Type?"}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:C.availability,name:"availability",onChange:function(e){console.log("onChange availability",typeof e.target.value,e.target.value),console.log("trailer.availability",typeof C.availability),S(Object(D.a)({},C,{availability:!C.availability}))}}),label:"Set as availability to be Rented?"})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photos"),!C.photos&&o.a.createElement(oe.a,{className:"SectionContainer"},C.photosLinks.map((function(e,t){return o.a.createElement("div",{key:C._id+"_photo"+t},o.a.createElement("a",{href:e},"Photo ",t+1))}))),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png",id:"raised-button-file",multiple:!0,type:"file",name:"photos",onChange:function(e){console.log(e.target.files),S(Object(D.a)({},C,{photos:e.target.files}))}})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return H.apply(this,arguments)}},"Update"))))}var Dn=M.apiUrl,An="".concat(Dn,"/admin/trailers"),Rn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var Pn=function(e){var t=Rn(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var n=Object(s.e)();console.log("history",n);var r=Object(s.f)();console.log("location",r);var i=(r.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.TRAILER.includes("VIEW")||n.replace(i);var l=o.a.useState([]),d=Object(p.a)(l,2),m=(d[0],d[1]),u=o.a.useState(0),f=Object(p.a)(u,2),b=(f[0],f[1]),g=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Trailer List",tableRef:g,search:!1,columns:[{title:"ID",field:"trailerTypeRef",render:function(e){return e.trailerTypeRef}},{title:"Name",field:"name",render:function(e){return e.name},cellStyle:{verticalAlign:"top"}},{title:"Type",field:"type",render:function(e){return e.type},cellStyle:{verticalAlign:"top"}},{title:"Description",field:"description",render:function(e){return o.a.createElement("div",{style:{}},e.description)},cellStyle:{verticalAlign:"top"}},{title:"Size",field:"size",render:function(e){return e.size},cellStyle:{verticalAlign:"top"}},{title:"Capacity",field:"capacity",render:function(e){return e.capacity},cellStyle:{verticalAlign:"top"}},{title:"Tare",field:"tare",render:function(e){return e.tare},cellStyle:{verticalAlign:"top"}},{title:"Features",field:"features",render:function(e){return e.features},cellStyle:{verticalAlign:"top"}},{title:"Photos",field:"photos",render:function(e){return o.a.createElement("div",null,e.photos.map((function(t,a){return o.a.createElement("div",null,o.a.createElement("a",{key:e._id+"_photo"+a,href:t},"Photo ",a+1))})))},cellStyle:{verticalAlign:"top"}},{title:"Is Available?",field:"availability",render:function(e){return e.availability?"Yes":"No"},cellStyle:{verticalAlign:"top"}},{title:"is Featured?",field:"isFeatured",render:function(e){return e.isFeatured?"Yes":"No"},cellStyle:{verticalAlign:"top",height:"auto"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(An,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(An," Response"),t);var n=t.trailersList||[],o=t.totalCount?t.totalCount:0,r=[];m((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),b(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(An," Error"),e),o(e)}))}))},actions:[{icon:"create",tooltip:"Edit Trailer",onClick:function(e,t){console.log("Edit onClick",e,t),n.push("/adminpanel/trailertype/edit/".concat(t._id))},cellStyle:{verticalAlign:"top"}},{icon:"add_circle",tooltip:"Add Trailer",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),n.push("/adminpanel/trailertype/add")},cellStyle:{verticalAlign:"top"}}],options:{actionsColumnIndex:-1,rowStyle:{height:"100px",maxHeight:"100px",overflow:"scroll"}}}))},Fn=M.apiUrl,Wn="".concat(Fn,"/admin/upsellitem"),qn="".concat(Fn,"/admin/upsellitem"),_n=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectEmpty:{marginTop:e.spacing(2)}}}));function Vn(e){if(1===e)return"Additional Day";var t=Math.floor(e/36e5);if(t<24)return"".concat(t," Hours");var a=Math.floor(t/24);return"".concat(a," Days")}function Mn(e){console.log("UpsellEdit",e);var t=_n(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var r=Object(s.e)();console.log("history",r);var i=Object(s.f)();console.log("location",i);var l=Object(s.g)().upsellItemId;console.log("upsellItemId",l);var d=(i.state||{from:{pathname:"/adminpanel/"}}).from;l||a.acl.UPSELL.includes("ADD")||r.replace(d),l&&!a.acl.UPSELL.includes("UPDATE")&&r.replace(d);var m=localStorage.getItem("rentalitemtypes");m=JSON.parse(m),console.log("rentalItemTypesList",m);var f=m.filter((function(e){return"upsellitem"===e.itemtype})),b=Object(n.useState)(0),h=Object(p.a)(b,2),y=h[0],O=(h[1],Object(n.useState)({name:"",type:"",description:"",rentalCharges:{},dlrCharges:0,isFeatured:!1,availability:!1,photosLinks:[],photos:null,rates:null})),j=Object(p.a)(O,2),C=j[0],S=j[1],I=Object(n.useState)(""),w=Object(p.a)(I,2),T=w[0],k=w[1],N=Object(n.useState)(""),x=Object(p.a)(N,2),L=x[0],A=x[1];Object(n.useEffect)((function(){var e={method:"GET",headers:c()};fetch("".concat(Wn,"?id=").concat(l),e).then((function(e){return e.json()})).then((function(e){var t=e.upsellItemObj;S(Object(D.a)({},C,{name:t.name,type:t.type,description:t.description,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:!!t.isFeatured&&t.isFeatured,availability:!!t.availability&&t.availability,photosLinks:t.photos}))})).catch((function(e){console.log("Error occurred while fetching Upsell Item data",e)}))}),[y]);var R=Object(n.useState)({name:!1,type:!1,description:!1,rentalCharges:!1,dlrCharges:!1,isFeatured:!1,availability:!1,photos:!1}),P=Object(p.a)(R,2),F=P[0],W=(P[1],Object(n.useState)({name:"",type:"",description:"",rentalCharges:"",dlrCharges:"",isFeatured:"",availability:"",photos:""})),q=Object(p.a)(W,2),V=q[0];q[1];function M(){return(M=Object(ee.a)(X.a.mark((function e(t){var a,n,o,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(F.name||F.type||F.description||F.rentalCharges||F.dlrCharges||F.isFeatured||F.availability||F.photos)){e.next=4;break}return e.abrupt("return",!1);case 4:if(a={method:"POST"},C.rates||C.photos){if((n=new FormData).append("name",C.name),n.append("type",C.type),n.append("description",C.description),n.append("dlrCharges",C.dlrCharges),n.append("availability",C.availability),n.append("isFeatured",C.isFeatured),C.rates?n.append("rates",C.rates,C.rates.name):C.rentalCharges&&n.append("rentalCharges",C.rentalCharges),C.photos&&C.photos.length>0)for(o=0;o<C.photos.length;o++)n.append("photos",C.photos[o],C.photos[o].name);l&&n.append("_id",l),console.log("formData",n),a.headers=Object(D.a)({},c()),a.body=n}else r={name:C.name,type:C.type,description:C.description,rentalCharges:C.rentalCharges,dlrCharges:C.dlrCharges,availability:C.availability,isFeatured:C.isFeatured},l&&(r._id=l),a.headers=Object(D.a)({},c(),{"Content-Type":"application/json"}),a.body=JSON.stringify(r);console.log("requestOptions",a),fetch(qn,a).then((function(e){return e.json()})).then((function(e){console.log("".concat(qn," Response"),e);var t=e.upsellItemObj;S(Object(D.a)({},C,{name:t.name,type:t.type,description:t.description,rentalCharges:t.rentalCharges,dlrCharges:t.dlrCharges,isFeatured:!!t.isFeatured&&t.isFeatured,availability:!!t.availability&&t.availability,photosLinks:t.photos,photos:null,rates:null})),A(""),k("Successfully saved Upsell Item data"),setTimeout((function(){k("")}),5e3)})).catch((function(e){console.log("".concat(qn," Error"),e),A("Error occurred while saving Upsell Item data")}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(u.a,{component:"main",maxWidth:"sm"},o.a.createElement(ne.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(v.a,{component:"h1",variant:"h5"},l?"Edit Upsell Item":"Add Upsell Item"),""!==T&&o.a.createElement(v.a,{component:"h6",variant:"h5"},T),""!==L&&o.a.createElement(v.a,{component:"h6",variant:"h5"},L),o.a.createElement("form",{className:t.form,encType:"multipart/form-data",noValidate:!0},o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,error:F.name,helperText:V.name,value:C.name,onChange:function(e){S(Object(D.a)({},C,{name:e.target.value}))}}),f&&C.type&&o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(re.a,{required:!0},o.a.createElement(ie.a,{id:"itemType-label"},"Type"),o.a.createElement(le.a,{labelId:"itemType-label",id:"itemTypeSelect",value:C.type,onChange:function(e){S(Object(D.a)({},C,{type:e.target.value}))},className:t.selectEmpty},f.map((function(e,t){return o.a.createElement(g.a,{key:"type-".concat(e.code),value:e.code},e.name)}))))),o.a.createElement(_.a,{"aria-label":"description",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,multiline:!0,error:F.description,helperText:V.description,value:C.description,onChange:function(e){S(Object(D.a)({},C,{description:e.target.value}))}}),C.rentalCharges&&o.a.createElement(na.a,{container:!0,spacing:0,className:"SectionContainer"},o.a.createElement(na.a,{item:!0,sm:12},o.a.createElement(v.a,{variant:"subtitle1"},"Rental Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Pickup Charges")),o.a.createElement(na.a,{item:!0,sm:6},o.a.createElement(v.a,{variant:"subtitle2"},"Door2Door Charges")),o.a.createElement(na.a,{item:!0,sm:6},C.rentalCharges.pickUp&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,C.rentalCharges.pickUp.map((function(e,t){return o.a.createElement(ca.a,{key:"pickup-".concat(t)},o.a.createElement(sa.a,null,Vn(e.duration)),o.a.createElement(sa.a,null,e.charges))})))))),o.a.createElement(na.a,{item:!0,sm:6},C.rentalCharges&&C.rentalCharges.door2Door&&o.a.createElement(oa.a,{component:ra.a},o.a.createElement(ia.a,{className:t.table,"aria-label":"simple table"},o.a.createElement(la.a,null,o.a.createElement(ca.a,null,o.a.createElement(sa.a,null,"Hire Period"),o.a.createElement(sa.a,null,"Hire Rate"))),o.a.createElement(da.a,null,C.rentalCharges.door2Door.map((function(e,t){return o.a.createElement(ca.a,{key:"door2door-".concat(t)},o.a.createElement(sa.a,null,Vn(e.duration)),o.a.createElement(sa.a,null,e.charges))}))))))),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Upload Rental Charges"),o.a.createElement("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"raised-button-file",multiple:!0,type:"file",name:"rates",onChange:function(e){console.log(e.target.files),S(Object(D.a)({},C,{rates:e.target.files[0]}))}})),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"dlrCharges",label:"Damage Liability Reduction Charges",name:"dlrCharges",autoComplete:"dlrCharges",autoFocus:!0,error:F.dlrCharges,helperText:V.dlrCharges,value:C.dlrCharges,onChange:function(e){S(Object(D.a)({},C,{dlrCharges:e.target.value}))}}),o.a.createElement(se.a,{className:"SectionContainer"},o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:C.isFeatured,name:"isFeatured",onChange:function(e){console.log("onChange isFeatured",e),S(Object(D.a)({},C,{isFeatured:!C.isFeatured}))}}),label:"Is Featured Upsell Item Type?"}),o.a.createElement(de.a,{control:o.a.createElement(me.a,{checked:C.availability,name:"availability",onChange:function(e){console.log("onChange availability",typeof e.target.value,e.target.value),console.log("upsellItem.availability",typeof C.availability),S(Object(D.a)({},C,{availability:!C.availability}))}}),label:"Set as availability to be Rented?"})),o.a.createElement(oe.a,{className:"SectionContainer"},o.a.createElement(v.a,{variant:"subtitle1"},"Photos"),!C.photos&&o.a.createElement(oe.a,{className:"SectionContainer"},C.photosLinks.map((function(e,t){return o.a.createElement("div",{key:C._id+"_photo"+t},o.a.createElement("a",{href:e},"Photo ",t+1))}))),o.a.createElement("input",{accept:"image/jpeg, image/jpg, image/png, application/pdf",id:"raised-button-file",multiple:!0,type:"file",name:"photos",onChange:function(e){console.log(e.target.files),S(Object(D.a)({},C,{photos:e.target.files}))}})),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return M.apply(this,arguments)}},"Update"))))}var Hn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Un=M.apiUrl,Yn="".concat(Un,"/admin/upsellitems");function Bn(e){var t=Hn(),a=localStorage.getItem("user");a=JSON.parse(a),console.log("userData",a);var n=Object(s.e)();console.log("history",n);var r=Object(s.f)();console.log("location",r);var i=(r.state||{from:{pathname:"/adminpanel/"}}).from;a.acl.UPSELL.includes("VIEW")||n.replace(i);var l=o.a.useState([]),d=Object(p.a)(l,2),m=(d[0],d[1]),u=o.a.useState(0),f=Object(p.a)(u,2),b=(f[0],f[1]),g=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement(R.a,{title:"Upsell Items List",tableRef:g,search:!1,columns:[{title:"ID",field:"upsellItemTypeRef",render:function(e){return e.upsellItemTypeRef}},{title:"Name",field:"name",render:function(e){return e.name}},{title:"Type",field:"type",render:function(e){return e.type}},{title:"Description",field:"description",render:function(e){return e.description}},{title:"Photos",field:"photos",render:function(e){return o.a.createElement("div",null,e.photos.map((function(t,a){return o.a.createElement("div",null,o.a.createElement("a",{key:e._id+"_photo"+a,href:t},"Photo ",a+1))})))}},{title:"Is Available?",field:"availability",render:function(e){return e.availability?"true":"false"}},{title:"is Featured?",field:"isFeatured",render:function(e){return e.isFeatured?"true":"false"}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(Yn,"?count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(Yn," Response"),t);var n=t.upsellItemsList||[],o=t.totalCount?t.totalCount:0,r=[];m((function(e){return console.log(typeof e,typeof n),r=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",r),r})),b(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("".concat(Yn," Error"),e),o(e)}))}))},actions:[{icon:"create",tooltip:"Edit Upsell Item",onClick:function(e,t){console.log("Edit onClick",e,t),n.push("/adminpanel/upsellitemtype/edit/".concat(t._id))}},{icon:"add_circle",tooltip:"Add Upsell Item",isFreeAction:!0,onClick:function(e,t){console.log("Add onClick",e,t),n.push("/adminpanel/upsellitemtype/add")}}],options:{actionsColumnIndex:-1}}))}var Jn=a(501),zn=M.apiUrl,Qn="".concat(zn,"/admin/rentals"),Gn="".concat(zn,"/admin/rental/approval"),Kn={0:"Pending",1:"Approved",2:"Rejected"},Zn=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},paperCenter:{width:"100%",textAlign:"center",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var $n=function(e){var t=Zn(),a=o.a.useState([]),n=Object(p.a)(a,2),r=(n[0],n[1]),i=o.a.useState(0),l=Object(p.a)(i,2),s=(l[0],l[1]),d=o.a.useState("rental"),m=Object(p.a)(d,2),u=m[0],f=m[1],b=o.a.createRef();return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.paperCenter},o.a.createElement(Jn.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},o.a.createElement(E.a,{variant:"rental"===u?"contained":"outlined",onClick:function(){console.log("Rental Button Clicked"),f("rental"),b.current&&b.current.onQueryChange()}},"Rental"),o.a.createElement(E.a,{variant:"extension"===u?"contained":"outlined",onClick:function(){console.log("Extension Button Clicked"),f("extension"),b.current&&b.current.onQueryChange()}},"Extension"),o.a.createElement(E.a,{variant:"reschedule"===u?"contained":"outlined",onClick:function(){console.log("Reschedule Button Clicked"),f("reschedule"),b.current&&b.current.onQueryChange()}},"Reschedule"))),o.a.createElement(R.a,{title:"".concat("rental"===u?"Rentals List":"extension"===u?"Extensions List":"Reschedule List"),tableRef:b,columns:[{title:"Rented Item Type",field:"rentedItemType",render:function(e){return"".concat(e.rentedItem)}},{title:"Rented Item",field:"rentedItemName",render:function(e){return"".concat(e.rentedItemName)}},{title:"Licensee Name",field:"licenseeName",render:function(e){return"".concat(e.licenseeName)}},{title:"Customer Name",field:"customerName",render:function(e){return"".concat(e.customerName)}},{title:"Request Type",field:"requestType",render:function(e){return"".concat(e.requestType)}},{title:"Rental Period Start Date",field:"rentalPeriodStart",render:function(e){return e.rentalPeriodStart?e.rentalPeriodStart:"NA"}},{title:"Rental Period End Date",field:"rentalPeriodEnd",render:function(e){return e.rentalPeriodEnd?e.rentalPeriodEnd:"NA"}},{title:"Rental Request Status",field:"isApproved",render:function(e){return Kn[e.isApproved]}}],data:function(e){console.log("MaterialTable data",e);var t=e.pageSize,a=e.page,n={method:"GET",headers:c()};return new Promise((function(e,o){fetch("".concat(Qn,"?type=").concat(u,"&count=").concat(t,"&skip=").concat(a*t),n).then((function(e){return e.json()})).then((function(t){console.log("".concat(Qn," Response"),t);var n=t.requestList||[],o=t.totalCount||0,i=[];r((function(e){return console.log(typeof e,typeof n),i=[].concat(Object(L.a)(e),Object(L.a)(n)),console.log("newRows",i),i})),s(o),e({data:n,page:a,totalCount:o})})).catch((function(e){console.log("getCustomer Error",e),o(e)}))}))},actions:[{icon:"check_circle",tooltip:"Approve",onClick:function(e,t){console.log("Approve onClick",e,t);var a={rentalId:t.rentalId,requestType:t.requestType,approvalStatus:"approved"};"extension"===t.requestType&&(a.extensionId=t.extensionId),"reschedule"===t.requestType&&(a.scheduleId=t.scheduleId);var n={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify(a)};console.log("requestOptions",n),fetch(Gn,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(Gn," Response"),e),b.current&&b.current.onQueryChange()})).catch((function(e){console.log("".concat(Gn," Error"),e)}))}},{icon:"cancel",tooltip:"Reject",onClick:function(e,t){console.log("Reject onClick",e,t);var a={rentalId:t.rentalId,requestType:t.requestType,approvalStatus:"rejected"};"extension"===t.requestType&&(a.extensionId=t.extensionId),"reschedule"===t.requestType&&(a.scheduleId=t.scheduleId);var n={method:"PUT",headers:Object(D.a)({},c(),{"Content-Type":"application/json"}),body:JSON.stringify(a)};console.log("requestOptions",n),fetch(Gn,n).then((function(e){return e.json()})).then((function(e){console.log("".concat(Gn," Response"),e),b.current&&b.current.onQueryChange()})).catch((function(e){console.log("".concat(Gn," Error"),e)}))}}],options:{actionsColumnIndex:-1}}))},Xn=(a(469),{paddingTop:"40px",paddingBottom:"40px",flexGrow:1});function eo(){return o.a.createElement(s.c,{history:l},o.a.createElement(T,null),o.a.createElement(u.a,{style:Xn},o.a.createElement(s.d,null,o.a.createElement(m,{exact:!0,path:"/adminpanel/",component:x}),o.a.createElement(m,{exact:!0,path:"/adminpanel/customers",component:Z}),o.a.createElement(m,{exact:!0,path:"/adminpanel/customer/edit/:customerId",component:he}),o.a.createElement(m,{exact:!0,path:"/adminpanel/customer/add",component:he}),o.a.createElement(s.b,{exact:!0,path:"/adminpanel/admin/customer/password/reset",component:je}),o.a.createElement(m,{exact:!0,path:"/adminpanel/employee/invite",component:xe}),o.a.createElement(s.b,{exact:!0,path:"/adminpanel/employee/invite/accept",component:Pe}),o.a.createElement(m,{exact:!0,path:"/adminpanel/employee/list",component:Ke}),o.a.createElement(m,{exact:!0,path:"/adminpanel/employee/edit/:employeeId?",component:Me}),o.a.createElement(s.b,{exact:!0,path:"/adminpanel/employee/password/reset",component:tt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensees",component:yt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/signup",component:jt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/edit/:licenseeId",component:Tt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/employee/edit/:employeeId",component:Dt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/employee/invite",component:Ft}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/employee/invite/accept",component:Mt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/employee/list",component:Zt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/admin/licensee/password/reset",component:aa}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/trailers",component:Ca}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/trailer/add",component:ha}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/trailer/edit/:trailerId?",component:ha}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/upsellitems",component:Wa}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/upsellitem/add",component:La}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/upsellitem/edit/:upsellItemId?",component:La}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/rentalitem/block/list",component:Ya}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/rentalitem/block/add",component:$a}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/rentalitem/block/edit/:blockingId?",component:$a}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/insurance",component:nn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/licensee/:licenseeId/servicing",component:sn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/payments/inward",component:pn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/payments/outward",component:hn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/financial/licensee",component:rt}),o.a.createElement(m,{exact:!0,path:"/adminpanel/financial/renteditem",component:st}),o.a.createElement(m,{exact:!0,path:"/adminpanel/rentals",component:$n}),o.a.createElement(m,{exact:!0,path:"/adminpanel/rentalitemtype/edit/:rentalItemId",component:On}),o.a.createElement(m,{exact:!0,path:"/adminpanel/rentalitemtype/add",component:On}),o.a.createElement(m,{exact:!0,path:"/adminpanel/rentalitemtypes",component:In}),o.a.createElement(m,{exact:!0,path:"/adminpanel/trailertype/edit/:trailerId",component:Ln}),o.a.createElement(m,{exact:!0,path:"/adminpanel/trailertype/add",component:Ln}),o.a.createElement(m,{exact:!0,path:"/adminpanel/trailertypes",component:Pn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/upsellitemtype/edit/:upsellItemId",component:Mn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/upsellitemtype/add",component:Mn}),o.a.createElement(m,{exact:!0,path:"/adminpanel/upsellitemtypes",component:Bn}),o.a.createElement(s.b,{path:"/adminpanel/signin",component:we}),o.a.createElement(s.a,{from:"*",to:"/adminpanel/"}))),o.a.createElement(N,null))}console.log("App",eo),Object(r.render)(o.a.createElement(eo,null),document.getElementById("t2y-app"))}},[[364,1,2]]]);
//# sourceMappingURL=main.dc2e8c1b.chunk.js.map